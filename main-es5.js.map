{"version":3,"sources":["webpack:///src/$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/core/core.module.ts","webpack:///src/app/core/layout-main/layout-main.component.ts","webpack:///src/app/core/layout-main/layout-main.component.html","webpack:///src/app/core/material/material.module.ts","webpack:///src/app/core/progress-time-limit/progress-time-limit.component.ts","webpack:///src/app/core/progress-time-limit/progress-time-limit.component.html","webpack:///src/app/core/tool-bar-repartidor/tool-bar-repartidor.component.ts","webpack:///src/app/core/tool-bar-repartidor/tool-bar-repartidor.component.html","webpack:///src/app/modelos/estado.pedido.model.ts","webpack:///src/app/modelos/geoposition.model.ts","webpack:///src/app/modelos/item.model.ts","webpack:///src/app/modelos/item.tipoconsumo.model.ts","webpack:///src/app/modelos/metodo.pago.model.ts","webpack:///src/app/modelos/pedido.model.ts","webpack:///src/app/modelos/pedido.repartidor.model.ts","webpack:///src/app/modelos/seccion.model.ts","webpack:///src/app/modelos/time.line.pedido.ts","webpack:///src/app/modelos/tipoconsumo.model.ts","webpack:///src/app/modelos/usuario.token.model.ts","webpack:///src/app/shared/config/config.const.ts","webpack:///src/app/shared/guards/auth.guard.ts","webpack:///src/app/shared/services/auth.service.ts","webpack:///src/app/shared/services/auth0.service.ts","webpack:///src/app/shared/services/calc-distancia.service.ts","webpack:///src/app/shared/services/crud-http.service.ts","webpack:///src/app/shared/services/error.global.handler.ts","webpack:///src/app/shared/services/http-config-interceptor.service.ts","webpack:///src/app/shared/services/info-token.service.ts","webpack:///src/app/shared/services/listen-status.service.ts","webpack:///src/app/shared/services/pedido-repartidor.service.ts","webpack:///src/app/shared/services/repartidor.service.ts","webpack:///src/app/shared/services/send-msj.service.ts","webpack:///src/app/shared/services/socket.service.ts","webpack:///src/app/shared/services/sse.service.ts","webpack:///src/app/shared/services/timer-limit.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts","webpack:///ws (ignored)"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","loadChildren","m","InicioModule","data","InicioRepartidorModule","canActivate","RepartidorModule","AppRoutingModule","forRoot","useHash","scrollPositionRestoration","paramsInheritanceStrategy","imports","AppComponent","auth","selector","templateUrl","styleUrls","AppModule","provide","useClass","register","enabled","production","declarations","providers","bootstrap","CoreModule","multi","LayoutMainComponent","MaterialModule","ProgressTimeLimitComponent","timerLimitService","ToolBarRepartidorComponent","infoTokenService","repartidorService","changeTogle","openMenuLateral","isTogleActive","isRepartidorPropio","estadoOnline","nomRepatidor","infoUsToken","isOnline","usuario","idsede_suscrito","nombre","apellido","setisOnline","$event","checked","guardarEfectivo","emit","abrirMenuLateral","EstadoPedidoModel","GeoPositionModel","ItemModel","precio_total","cantidad_seleccionada_x_tpc","cantidad_descontado","itemtiposconsumo","subitems_selected","subitems_view","ItemTipoConsumoModel","MetodoPagoModel","PedidoModel","tipoconsumo","PedidoRepartidorModel","SeccionModel","items","TimeLinePedido","TipoConsumoModel","secciones","UsuarioTokenModel","IS_NATIVE","getPlatform","URL_SERVER","URL_SERVER_SOCKET","URL_IMG_CARTA","VAPID_PUBLIC","URL_CONSULTA_RUC_DNI","TOKEN_CONSULTA","TOKEN_SMS","AuthGuard","authService","us","getLoggedStatus","res","providedIn","AuthService","crudService","isLoggedStatus","_usuario","observer","postFree","subscribe","usSimulaToken","response","btoa","JSON","stringify","next","value","token","localStorage","getItem","rpt","loginUsuarioAutorizado","setItem","ms_tieme_init_session","Date","getTime","toString","verificarToken","removeItem","setLoggedStatus","Auth0Service","router","auth0Client$","domain","client_id","redirect_uri","window","location","origin","pipe","err","isAuthenticated$","client","isAuthenticated","loggedIn","handleRedirectCallback$","handleRedirectCallback","userProfileSubject$","userProfile$","asObservable","localAuthSetup","handleAuthCallback","options","getUser","user","checkAuth$","getUser$","redirectPath","proveedor","loginWithRedirect","connection","appState","target","params","search","includes","targetRoute","authComplete$","cbRes","navigate","logout","returnTo","CalcDistanciaService","directionsService","google","maps","DirectionsService","destination","dirCliente","dirEstablecimiento","c_servicio","c_minimo","c_km","lat","latitude","lng","longitude","request","travelMode","TravelMode","DRIVING","km","route","result","status","legs","distance","parseInt","toFixed","setTimeout","coordOrigen","coordDetino","radius","parseFloat","center","lon","_from","_to","coords1","coords2","radio","_rptDistance","calculateDistanceInMt","lat1","lng1","lat2","lng2","Math","atan2","sqrt","pow","cos","sin","CrudHttpService","httpClient","infoTockenService","controller","evento","conOrg","conSede","url","setUrlFiltros","header","getHeaderHttpClientForm","get","headers","pagenumber","rows","filter","orden","ordendireccion","fromObject","datos","setUrl","post","put","conToken","getHeaderHttpClientFormNoToken","conTokenSMS","getHeaderHttpClientFormSMS","number","set","console","log","_jwt","getInfoUs","__jwt","pass","_data","nomusuario","atob","getSede","setInfoSedeToken","getOrg","setInfoOrgToken","getOperador","filterOrgSede","getFilter","getInfoSedeToken","getTokenAuth","GlobalErrorHandler","error","chunkFailedMessage","test","message","reload","HttpConfigInterceptorService","handle","caught","clear","InfoTockenService","converToJSON","getLocalIpCliente","idsede","idorg","isCliente","isSoloLLevar","isDelivery","ipCliente","val","isPagoSuccess","_order","_importes","orderDelivery","importeDelivery","telefono","metodo","metodoPago","metodoPagoInit","idtipo_pago","descripcion","importe","setMetodoPago","efectivoMano","socketId","_token","parse","split","idcliente","_newUs","nombres","datalogin","name","idusuario","numMesaLector","direccionEnvioSelected","setIniMetodoPago","numTis","continueSession","isNaN","cerrarSession","ms_now","ms","sec","floor","ListenStatusService","isBusquedaSource","isBusqueda$","charBuquedaSource","charBuqueda$","hayCuentaBusquedaSource","hayCuentaBusqueda$","hayDatosSedeSource","hayDatosSede$","isUsuarioClienteSource","isUsuarioCliente$","estadoPedidoSource","estadoPedido$","hayPedidoPendienteSource","hayPedidoPendiente$","isPagePagarCuentaShowSource","isPagePagarCuentaShow$","isBtnPagoShowSource","isBtnPagoShow$","isPagoSuccesSource","isPagoSucces$","isChangeDireccionDeliverySource","isChangeDireccionDelivery$","isOutEstablecimientoDeliverySource","isOutEstablecimientoDelivery$","efectivoManoSource","efectivoManoMano$","pedidoModificadoSource","pedidoModificado$","myPositionSource","myPosition$","newPedidoRepartoPropioSource","newPedidoRepartoPropio$","charFind","pedido","pos","PedidoRepartidorService","listenService","socketService","calcDistanciaService","sendMsjService","keyLocal","keyLocalIds","keyLocalItem","keyLocalItemSelected","init","pedidoRepartidor","getLocal","paso_va","setLocal","pedido_paso_va","obj","ids","getLocalIds","pedidos","join","idpedido","repartidor","_repartidor","estado","audio","Audio","src","load","play","arrTotales","pwa_delivery_comercio_paga_entrega","costoEntrega","length","datosSubtotalesShow","rowTotal","importePagaCliente","datosComercio","datosDelivery","costoTotalDelivery","postionInsert","_row","esImpuesto","quitar","tachado","visible","visible_cpe","splice","x","map","reduce","a","b","importePedido","costoServicio","_isHayPropina","isHayPropina","_miPedidoCuenta","c_tiposConsumo","subTotalDefault","tp","hayTpc","idtipo_consumo","des_tp","push","_tp","_s","i","haySeccion","s","idseccion","des","des_seccion","sec_orden","ver_stock_cero","count_items_seccion","_i","hayItem","precio_default","cantidad","p_unitario","detalles","iditem","idcarta_lista","isalmacen","cantidad_seleccionada","precio","precio_print","procede","seccion","img","subitems","count_items","reCalcularSubTotal","pedidoLocal","subotales","_rowSubTotal","datosSubtotales","_diffSubTotal","toUpperCase","_dataSend","pwa_delivery_status","_ids","isGrupoPedidos","time_line_pedido","comisionRepartidor","propinaRepartidor","propina","costotalServicio","_importePagaCliente","_idRepartidor","datosRepartidor","idrepartidor","time_line","operacion","isrepartidor_propio","importeTotalPedido","importePagadoRepartidor","pwa_delivery_comision_fija_no_afiliado","costoTotalServicio","importeDepositar","_pedidoFinalizar","getPedidoSelect","setPedidoModificado","allPedidos","getLocalItems","elPedido","p","setLocalItems","numCerrados","cleanLocal","_idPedidoRepartidor","datosCliente","_listPedidos","_tipo_pedido","isretiroatm","idpedido_mandado","pedidos_quedan","num_quedan","tipo_pedido","_num_reasignado","num_reasignado","is_reasignado","_pedido","conFormato","datosItems","subTotalesPedid","json_datos_delivery","p_header","arrDatosDelivery","subTotales","p_subtotales","p_body","establecimiento","idpedidoLector","_reparitdor","_dataSendPedido","_importePedido","total_r","pedidos_repartidor","getPedidoPorAceptar","isHayPedido","importe_acumula","importe_pagar","pedido_asignado_manual","inSede","_listPedido","setPedidoPorAceptar","resp","listPedidos","geoPositionActual","geoPositionComercio","_newTimeLinePedido","comercioPedido","_distanciaMt","calcDistanciaEnMetros","isLLego","calcDistancia","distanciaMtr","llego_al_comercio","paso","msj_log","toLocaleTimeString","msjClienteTimeLine","en_camino_al_cliente","RepartidorService","infoToken","pedidoRepartidorService","sseService","idSedeRepartidor","idRepartidor","_online","efectivo","online","_pos","_paso_va","getAll","_coordenadas","idsedeComercio","_idComercio","coordenadas","minuto","getMinutes","geoposiionNow","setMyPosition","closeConnection","SendMsjService","listClienteNotificar","elRepartidor","rowDatos","rowCliente","repartidor_nom","repartidor_telefono","repartidor_id","tipo_msj","SocketService","urlSocket","isSocketOpen","isSocketOpenReconect","isSocketOpenSource","isSocketOpen$","msjConexSource","msjConex$","resTipoConsumo","verificandoConexion","infoUser","opFrom","setSocketId","socket","infToken","dataSocket","isFromApp","isRepartidor","firts_socketid","secure","rejectUnauthorized","query","listenStatusSocket","on","resTPC","t","_objTpcAdd","titulo","disconnect","statusConexSocket","addEventListener","event","verifyConexionSocket","showStatusConexNavigator","verificarContunuarSession","cerrarSessionBeforeTimeSession","connect","isConncet","msj","SseService","_zone","curdService","urlService","create","eventSource","getEventSource","onmessage","run","onerror","EventSource","TimerLimitService","countdownTimerRef","maxTime","valPorcentaje","isPlayTimer","countTimer","countdownSource","countdown$","countTimeSource","countTime$","isTimeLimitSource","isTimeLimitComplet$","isPorgressVisibleSource","isPorgressVisible$","clearTimeout","initCount","stopCountTimerLimit","setTimeDate","progressCount","lastValPorcentaje","round","ms_new","timeAfter","environment","bootstrapModule"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LayoutMainComponent } from './core/layout-main/layout-main.component';\nimport { AuthGuard } from './shared/guards/auth.guard';\nimport { ClienteProfileGuard } from './shared/guards/cliente-profile-guards';\n\nconst routes: Routes = [\n  // { path: '', redirectTo: '', pathMatch: 'full' },\n  // {\n  // path: '',\n  // component: LayoutMainComponent,\n  // children: [\n    {\n      path: '',\n      loadChildren: () => import('./pages/inicio/inicio.module').then(m => m.InicioModule),\n      data: { 'tituloModulo': 'Inicio' }\n    },\n    {\n      path: 'main-inicio',\n      loadChildren: () => import('./pages/inicio-repartidor/inicio-repartidor.module').then(m => m.InicioRepartidorModule),\n      canActivate: [AuthGuard],\n      data: { 'tituloModulo': 'Inicio Repartidor' }\n    },\n    {\n      path: 'main',\n      loadChildren: () => import('./pages/repartidor/repartidor.module').then(m => m.RepartidorModule),\n      canActivate: [AuthGuard],\n      data: { 'tituloModulo': 'Repartidor' }\n    }\n    // ,\n    // {\n    //   path: 'lanzar-encuesta',\n    //   loadChildren: () => import('./pages/encuesta/encuesta.module').then(m => m.EncuestaModule),\n    //   canActivate: [AuthGuard],\n    //   data: { 'tituloModulo': 'Encuesta' }\n    // },\n    // {\n    //   path: 'pagar-cuenta',\n    //   loadChildren: () => import('./pages/pagar-cuenta/pagar-cuenta.module').then(m => m.PagarCuentaModule),\n    //   canActivate: [AuthGuard],\n    //   data: { 'tituloModulo': 'Cuenta' }\n    // },\n    // {\n    //   path: 'cliente-profile',\n    //   loadChildren: () => import('./pages/cliente-profile/cliente-profile.module').then(m => m.ClienteProfileModule),\n    //   canActivate: [ClienteProfileGuard],\n    //   data: { 'tituloModulo': 'Cliente Profile' }\n    // },\n    // {\n    //   path: 'zona-delivery',\n    //   loadChildren: () => import('./pages/zona-establecimientos/zona-establecimientos.module').then(m => m.ZonaEstablecimientosModule),\n    //   canActivate: [ClienteProfileGuard],\n    //   data: { 'tituloModulo': 'Cliente Zona Delivery' }\n    // }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(\n    routes, {\n      useHash: true,\n      scrollPositionRestoration: 'enabled',\n      // anchorScrolling: 'enabled',\n      paramsInheritanceStrategy: 'always'\n    }\n    )],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\nimport { Auth0Service } from './shared/services/auth0.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  // title = 'pwa-app-repartidor';\n\n  constructor(\n    private auth: Auth0Service\n  ) {}\n}\n","<!-- The content below is only a placeholder and can be replaced.\n<div style=\"text-align:center\">\n  <h1>\n    Welcome to {{ title }}!\n  </h1>\n  <img width=\"300\" alt=\"Angular Logo\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==\">\n</div>\n<h2>Here are some links to help you start: </h2>\n<ul>\n  <li>\n    <h2><a target=\"_blank\" rel=\"noopener\" href=\"https://angular.io/tutorial\">Tour of Heroes</a></h2>\n  </li>\n  <li>\n    <h2><a target=\"_blank\" rel=\"noopener\" href=\"https://angular.io/cli\">CLI Documentation</a></h2>\n  </li>\n  <li>\n    <h2><a target=\"_blank\" rel=\"noopener\" href=\"https://blog.angular.io/\">Angular blog</a></h2>\n  </li>\n</ul>\n\n<div class=\"row\">\n  <div class=\"col-2\">A</div>\n  <div class=\"col-2\">B</div>\n</div> -->\n\n\n<router-outlet></router-outlet>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule, ErrorHandler } from '@angular/core';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { CoreModule } from './core/core.module';\nimport { ServiceWorkerModule } from '@angular/service-worker';\nimport { environment } from '../environments/environment';\nimport { GlobalErrorHandler } from './shared/services/error.global.handler';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    // DebounceClickDirective\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    // ReactiveFormsModule,\n    FormsModule,\n    AppRoutingModule,\n    CoreModule,\n    ServiceWorkerModule.register('ngsw-worker.js', { enabled: environment.production })\n  ],\n  providers: [{provide: ErrorHandler, useClass: GlobalErrorHandler}],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { HttpClientModule, HTTP_INTERCEPTORS  } from '@angular/common/http';\nimport { CrudHttpService } from '../shared/services/crud-http.service';\n\nimport { LayoutMainComponent } from './layout-main/layout-main.component';\nimport { RouterModule } from '@angular/router';\nimport { MaterialModule } from './material/material.module';\n\nimport { ProgressTimeLimitComponent } from './progress-time-limit/progress-time-limit.component';\nimport { HttpConfigInterceptorService } from '../shared/services/http-config-interceptor.service';\nimport { ToolBarRepartidorComponent } from './tool-bar-repartidor/tool-bar-repartidor.component';\n\n\n@NgModule({\n  declarations: [\n    LayoutMainComponent,\n    // ToolBarComponent,\n    ProgressTimeLimitComponent,\n    ToolBarRepartidorComponent\n  ],\n  imports: [\n    CommonModule,\n    RouterModule,\n    HttpClientModule,\n    MaterialModule\n  ],\n  exports: [\n    MaterialModule,\n    // ToolBarComponent,\n    ProgressTimeLimitComponent,\n    ToolBarRepartidorComponent\n  ],\n  providers: [\n    CrudHttpService,\n    { provide: HTTP_INTERCEPTORS, useClass: HttpConfigInterceptorService, multi: true }\n  ]\n})\nexport class CoreModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-layout-main',\n  templateUrl: './layout-main.component.html',\n  styleUrls: ['./layout-main.component.css']\n})\nexport class LayoutMainComponent implements OnInit {\n\n  constructor(\n  ) { }\n\n  ngOnInit() {\n  }\n\n}\n","<router-outlet></router-outlet>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n// material\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatRippleModule } from '@angular/material/core';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatStepperModule } from '@angular/material/stepper';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatCardModule } from '@angular/material/card';\nimport {MatRadioModule} from '@angular/material/radio';\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\nimport {MatSidenavModule} from '@angular/material/sidenav';\nimport {MatTableModule} from '@angular/material/table';\n\n// import { MatTooltipModule } from '@angular/material/tooltip';\n\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule,\n    MatButtonModule,\n    MatRippleModule,\n    MatIconModule,\n    MatInputModule,\n    MatTabsModule,\n    MatProgressBarModule,\n    MatToolbarModule,\n    MatDialogModule,\n    MatCheckboxModule,\n    MatSnackBarModule,\n    MatStepperModule,\n    MatExpansionModule,\n    MatCardModule,\n    MatRadioModule,\n    MatSlideToggleModule,\n    MatSidenavModule,\n    MatTableModule\n    // MatTooltipModule\n  ],\n  exports: [\n    MatButtonModule,\n    MatRippleModule,\n    MatIconModule,\n    MatInputModule,\n    MatTabsModule,\n    MatProgressBarModule,\n    MatToolbarModule,\n    MatDialogModule,\n    MatCheckboxModule,\n    MatSnackBarModule,\n    MatStepperModule,\n    MatExpansionModule,\n    MatCardModule,\n    MatRadioModule,\n    MatSlideToggleModule,\n    MatSidenavModule,\n    MatTableModule\n    // MatTooltipModule\n  ]\n})\nexport class MaterialModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { TimerLimitService } from 'src/app/shared/services/timer-limit.service';\n\n@Component({\n  selector: 'app-progress-time-limit',\n  templateUrl: './progress-time-limit.component.html',\n  styleUrls: ['./progress-time-limit.component.css']\n})\nexport class ProgressTimeLimitComponent implements OnInit {\n\n  constructor(public timerLimitService: TimerLimitService) { }\n\n  ngOnInit() {\n  }\n\n}\n","<ng-container *ngIf=\"timerLimitService.isPorgressVisible$ | async\">\n    <mat-progress-bar \n        class=\"animated fadeInDown\"\n        mode=\"determinate\" \n        color=\"accent\" \n        [value]=\"timerLimitService.countdown$ | async\"    \n    ></mat-progress-bar>\n</ng-container>\n\n\n","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\n// import { MatDialogConfig, MatDialog } from '@angular/material/dialog';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\nimport { RepartidorService } from 'src/app/shared/services/repartidor.service';\nimport { TemplateBindingParseResult } from '@angular/compiler';\n// import { SocketService } from 'src/app/shared/services/socket.service';\n\n@Component({\n  selector: 'app-tool-bar-repartidor',\n  templateUrl: './tool-bar-repartidor.component.html',\n  styleUrls: ['./tool-bar-repartidor.component.css']\n})\nexport class ToolBarRepartidorComponent implements OnInit {\n  @Output() public changeTogle = new EventEmitter<boolean>(false);\n  @Output() public openMenuLateral = new EventEmitter<boolean>(false);\n\n  isTogleActive = false;\n  isRepartidorPropio = false;\n\n  estadoOnline = 'En linea';\n\n  nomRepatidor = '';\n  constructor(\n    private infoTokenService: InfoTockenService,\n    private repartidorService: RepartidorService\n    // private socketService: SocketService\n  ) { }\n\n  ngOnInit() {\n    this.isTogleActive = this.infoTokenService.infoUsToken.isOnline;\n    this.isRepartidorPropio = this.infoTokenService.infoUsToken.usuario.idsede_suscrito;\n    this.estadoOnline = this.isRepartidorPropio ? 'En linea'  : this.isTogleActive ? 'En linea' : 'Fuera de linea';\n\n    // console.log(this.infoTokenService.infoUsToken.usuario);\n    this.nomRepatidor = this.infoTokenService.infoUsToken.usuario.nombre + ' ' + this.infoTokenService.infoUsToken.usuario.apellido;\n    // this.changeTogle.emit(this.isTogleActive);\n    // if ( this.isTogleActive ) {\n    //   this.socketService.connect();\n    // }\n\n    if ( this.isRepartidorPropio ) {\n      this.infoTokenService.setisOnline(this.isTogleActive);\n    }\n  }\n\n  repartidorOnLine($event: any) {\n    this.isTogleActive = $event.checked;\n    // this.infoTokenService.setisOnline(this.isTogleActive);\n    // this.changeTogle.emit(this.isTogleActive);\n\n    // this.estadoOnline = 'En linea';\n\n    if ( !this.isTogleActive ) {\n      this.estadoOnline = 'Fuera de linea';\n      this.repartidorService.guardarEfectivo(0, 0);\n    } else {\n      // this.isTogleActive = $event.checked;\n      this.infoTokenService.setisOnline(this.isTogleActive);\n      this.changeTogle.emit(this.isTogleActive);\n\n      this.estadoOnline = 'En linea';\n    }\n  }\n\n  abrirMenuLateral() {\n    // console.log('this.openMenuLateral', true);\n    this.openMenuLateral.emit(true);\n  }\n\n  // repartidorOnLine() {\n  //   const _dialogConfig = new MatDialogConfig();\n  //   _dialogConfig.disableClose = true;\n  //   _dialogConfig.hasBackdrop = true;\n\n  //   const dialogReset = this.dialog.open(DialogEfectivoRepartidorComponent, _dialogConfig);\n  // }\n\n}\n","<div class=\"header-app p-3 d-flex justify-content-between\">\n    <div>\n        <i class=\"fa fa-bars pr-2\" (click)=\"abrirMenuLateral()\"></i>\n        <span class=\"fs-14\">{{nomRepatidor | titlecase}}</span>\n    </div>\n    <div class=\"d-flex align-items-center\">\n        <span class=\"fs-12 pr-2\">{{ estadoOnline }}</span>\n        <mat-slide-toggle *ngIf=\"!isRepartidorPropio\" (change) = \"repartidorOnLine($event);\"  [checked] = \"isTogleActive\"></mat-slide-toggle>\n    </div>\n</div>\n","export class EstadoPedidoModel {\r\n    estado: number; // 0: espera 1: despachado 2: pagado 3: anulado\r\n    importe: number; // importe a pagar\r\n    isTiempoAproxCumplido: boolean; // si el tiempo aproximado esta cumplido\r\n    horaInt: number; // hora init conteo\r\n    numMinAprox: number; // numero de minutos aproximadamente\r\n    hayPedidoCliente: boolean; // si hay pedido, si hay cuenta\r\n    hayPedidoClientePendiente: boolean; // si hay productos en lista de pedido pendientes por enviar.\r\n    isPagada: boolean; // si ya fue pagada\r\n    isRegisterOnePago: boolean; // si se registro algun pago aunque no se el total\r\n}\r\n","export class GeoPositionModel {\r\n    latitude: number;\r\n    longitude: number;\r\n    hasPermition: boolean;\r\n}\r\n","import { ItemTipoConsumoModel } from './item.tipoconsumo.model';\r\nimport { SubItem } from './subitems.model';\r\nimport { SubItemsView } from './subitems.view.model';\r\nimport { SubItemContent } from './subitem.content.model';\r\n\r\nexport class ItemModel {\r\n    iditem: number;\r\n    idseccion: number;\r\n    idcarta_lista: number;\r\n    isalmacen: number;\r\n    isporcion: string; // si es SP = porcion\r\n    imprimir_comanda: number;\r\n    procede: number; // tabla de donde descontar 0 = producto 1 = cartalista\r\n    precio: string; // precio unitario\r\n    precio_unitario: string; // para calculo del precio item + precio subitem\r\n    precio_default: string; // precio por defecto sin comision - con comision en comercios no afiliados\r\n    precio_print: number; // precio que se muestra\r\n    precio_total_calc: number; // preciounitario * cantidad // para calular reglas carta\r\n    precio_total = 0; // preciounitario * cantidad\r\n    cantidad: number;\r\n    cantidad_seleccionada: number; // total\r\n    cantidad_seleccionada_x_tpc = 0; // cantidad seleccionada por tipo cosnumo\r\n    cantidad_reset: number; // cuando caduca el tiempo y recupera stock\r\n    cantidad_descontado = 0; // cantidad que se decuenta por reglas de carta\r\n    des: string;\r\n    indicaciones: string; // indicaciones del pedido\r\n    detalles: string; // descripcion en detalle\r\n    img: string; // imagen del item\r\n    selected: boolean;\r\n    itemtiposconsumo: ItemTipoConsumoModel[] = []; // para la vista -> listItemsPedido\r\n    seccion: string;\r\n    subitems: SubItemContent[];\r\n    subitem_required_select: number;\r\n    subitem_cant_select: number;\r\n    subitems_selected: SubItem[] = []; // subitems seleccionados\r\n    subitems_view: SubItemsView[] = []; // subitems vista y guardar pedido detalle\r\n    sumar: boolean; // si suma o resta en el back end -- el back envia las cantidadees\r\n}\r\n","export class ItemTipoConsumoModel {\r\n    idtipo_consumo: number;\r\n    descripcion: string;\r\n    titulo: string;\r\n    cantidad_seleccionada: number;\r\n    animar_cantidad: boolean; // anima la cantidad cuando se modifoca + -\r\n}\r\n","export class MetodoPagoModel {\r\n    idtipo_pago: number;\r\n    descripcion: string;\r\n    importe: string;\r\n    checked: boolean;\r\n}\r\n","import { TipoConsumoModel } from './tipoconsumo.model';\r\n\r\nexport class PedidoModel {\r\n    tipoconsumo: TipoConsumoModel[] = [];\r\n}\r\n","export class PedidoRepartidorModel {\r\n    idpedido: number;\r\n    idsede: number;\r\n    estado: number; // 0 = por aceptar 1 = aceptado\r\n    datosItems: any; // item productos\r\n    datosDelivery: any;\r\n    datosCliente: any;\r\n    datosRepartidor: any;\r\n    datosComercio: any;\r\n    datosSubtotales: any;\r\n    datosSubtotalesShow: any; // el que muestra en detalle del pedido\r\n    c_servicio: string; // costo total de servicio + propina\r\n    importePedido: string; // importe total del pedido quitando serivico + propina\r\n    importePagaCliente: string; // importe neto que paga el cliente\r\n    isHayPropina: boolean; // indica si el pedido tiene propina\r\n    paso_va: number; // paso en que va 1=ir a comercio 2=recoger 3 entregar\r\n    num_reasignado: number; // numero de veces que se reasigna, para buscar repartidor por el index\r\n    is_reasignado: boolean; // para saber si es reasignado\r\n    pwa_delivery_status: number;\r\n    conFormato: boolean; // si ya se dio formato\r\n    aceptado: boolean; // si ya el pedido ha sido acpetado y notificado\r\n    sumGananciaTotal: number;\r\n    pedido_paso_va: number; // 0 = por aceptar, 1 aceptado 2 en el local 3 entregado\r\n}\r\n","import { ItemModel } from './item.model';\r\n\r\nexport class SeccionModel {\r\n    idseccion: number;\r\n    idimpresora: number;\r\n    imprimir: number;\r\n    sec_orden: number;\r\n    count_items: number;\r\n    ver_stock_cero: number;\r\n    des: string;\r\n\r\n    items: ItemModel[] = [];\r\n}\r\n","export class TimeLinePedido {    \r\n    hora_pedido_aceptado: number;\r\n    hora_pedido_entregado: number;    \r\n    llego_al_comercio: boolean;\r\n    en_camino_al_cliente: boolean;    \r\n    mensaje_enviado: {\r\n        llego_al_comercio: boolean;\r\n        en_camino_al_cliente: boolean;\r\n    };\r\n    paso: number; // 1 llego al comercio // 2 en camino // 3 entregado        \r\n    msj_log: string;\r\n    distanciaMtr: string;\r\n    // msj_llego_enviado: boolean;\r\n}\r\n","import { SeccionModel } from './seccion.model';\r\n\r\nexport class TipoConsumoModel {\r\n    idtipo_consumo: number;\r\n    descripcion: string;\r\n    titulo: string;\r\n    count_items_seccion: number;\r\n    secciones: SeccionModel[] = [];\r\n}\r\n","import { DeliveryDireccionCliente } from './delivery.direccion.cliente.model';\r\nimport { MetodoPagoModel } from './metodo.pago.model';\r\n\r\nexport class UsuarioTokenModel {\r\n    acc: string;\r\n    cargo: string;\r\n    estadistica: number;\r\n    estado: number;\r\n    idalmacen: number;\r\n    idorg: number;\r\n    idsede: number;\r\n    idusuario: number;\r\n    nombres: string;\r\n    nuevo: number;\r\n    pass: string;\r\n    per: string;\r\n    rol: number;\r\n    super: number;\r\n    usuario: any;\r\n    idcliente: number;\r\n    isCliente: boolean;\r\n    email: string;\r\n    numMesaLector: number; // numero de mesa del lector qr\r\n    ipCliente: string; // ip del cliente api autorizacion\r\n    isSoloLLevar: boolean; // si escanea qr solo para llevar\r\n    isDelivery: boolean; // si es delivery\r\n    direccionEnvioSelected: DeliveryDireccionCliente;\r\n    telefono: string;\r\n    orderDelivery: string; // pedido pendiente de confirmacion\r\n    importeDelivery: string; // importe pendiente de confirmacion\r\n    isPagoSuccess: boolean; // si ya pago, si es que actualiza cuando ya pago\r\n    metodoPago: MetodoPagoModel; // metodo pago seleccionado\r\n    efectivoMano: number; // repartidor efectivo en mano\r\n    isOnline: boolean; // si esta en linea activo\r\n    socketId: string; // guarda el socket id de conexion, para mantenerlo\r\n}\r\n","import { Capacitor } from '@capacitor/core';\r\nexport const IS_NATIVE = Capacitor.getPlatform() !== 'web';\r\n\r\n// // pruebas\r\n// export const URL_SERVER = 'http://192.168.1.39:5819/v3/'; // desarrollo\r\n// export const URL_SERVER_SOCKET = 'http://192.168.1.39:5819'; // desarrollo\r\n// export const URL_IMG_CARTA = 'http://192.168.1.65/restobar/file/';\r\n// export const VAPID_PUBLIC = 'BC7ietauZE99Hx9HkPyuGVr8jaYETyEJgH-gLaYIsbORYobppt9dX49_K_wubDqphu1afi7XrM6x1zAp4kJh_wU';\r\n\r\n// export const URL_CONSULTA_RUC_DNI = 'http://apifacturalo_a.test:8080/api/services/'; // consulta dni o ruc\r\n\r\n// produccion\r\n\r\nexport const URL_SERVER = 'https://app.restobar.papaya.com.pe/api.pwa/v3'; // produccion\r\nexport const URL_SERVER_SOCKET = 'https://app.restobar.papaya.com.pe/'; // produccion\r\nexport const URL_IMG_CARTA = 'https://restobar.papaya.com.pe/file/';\r\nexport const VAPID_PUBLIC = 'BOiwO8PftVFo8MrQfp3oAv4KbVtFdZAQojGKgzyxMCPgiNhg8PySbOSlkxDqd3iKA4J1GhzwFiCIGKmXRiKZM_0';\r\n\r\n\r\n// export const VAPID_PUBLIC = 'BNMTnTvmBqg66i4-5I8SKSqb3VK1lEc-bmjB3bAWnIQ1RiZRwB1PpNIGzeM8Y75NeUYWXhlzjyVrEppOJuyk-1Y';\r\n// export const VAPID_PRIVATE = 'pBhfgP_TXkhMFVvwCD08GEROyvdpUe7daBgMXeySWFw';\r\n\r\n\r\nexport const URL_CONSULTA_RUC_DNI = 'https://apifac.papaya.com.pe/api/services/'; // consulta dni o ruc\r\nexport const TOKEN_CONSULTA = 'tLKbDncvyKIPcgdVAGqt7rmy7W9mU9cnbawpZdc7JJv7l6h9cU'; // token de prueba\r\nexport const TOKEN_SMS = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoicGFwYXlhLXNtcyIsImlhdCI6MTAwMDIwMDAzMDAwfQ.bKnTHEEGW_SustFir-40ZAYcHtfIo7Gyjq7c2onsAj0'; // token de prueba\r\n\r\n\r\n\r\n// export const URL_SERVER_SOCKET = '/'; // produccion\r\n\r\n","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree } from '@angular/router';\n// import { Observable } from 'rxjs';\nimport { AuthService } from '../services/auth.service';\n// import { VerifyAuthClientService } from '../services/verify-auth-client.service';\n// import { InfoTockenService } from '../services/info-token.service';\n// import { InfoTockenService } from '../services/info-token.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n  constructor(\n    private authService: AuthService,\n    // private verifyClientService: VerifyAuthClientService,\n    // private infoTokenService: InfoTockenService,\n  ) {}\n\n  // canActivate(\n  //   next: ActivatedRouteSnapshot,\n  //   state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n\n  //   return true;\n  // }\n\n  canActivate() {\n    const us = this.authService.getLoggedStatus();\n    // const infoToken = this.infoTokenService.getInfoUs();\n    const res = us;\n    // console.log('canActivate', us);\n    // if ( us )\n    return res;\n  }\n\n}\n","import { Injectable } from '@angular/core';\r\nimport { UsuarioAutorizadoModel } from 'src/app/modelos/usuario-autorizado.model';\r\nimport { CrudHttpService } from './crud-http.service';\r\nimport { Observable } from 'rxjs/internal/Observable';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n    private isLoggedStatus = false;\r\n\r\n    constructor(private crudService: CrudHttpService) {\r\n\r\n    }\r\n\r\n    getInfoRepartidor(_usuario: any) {\r\n        return new Observable(observer => {\r\n        this.crudService.postFree(_usuario, 'repartidor', 'get-info', true)\r\n            .subscribe((res: any) => {\r\n                const usSimulaToken = {\r\n                    'usuario' : res.data[0]\r\n                };\r\n                const response = 'eyCJ9.' + btoa(JSON.stringify(usSimulaToken));\r\n                observer.next(response);\r\n            });\r\n        });\r\n    }\r\n\r\n    setLoggedStatus(value: boolean) {\r\n        this.isLoggedStatus = value;\r\n    }\r\n\r\n    // verfica la existencia del token\r\n    getLoggedStatus() {\r\n        const token = localStorage.getItem('::token');\r\n        const rpt = !!token ? true : false;\r\n        this.isLoggedStatus = rpt;\r\n        return rpt;\r\n    }\r\n\r\n    getUserLogged(usuario: UsuarioAutorizadoModel) {\r\n        return this.crudService.loginUsuarioAutorizado(usuario);\r\n    }\r\n\r\n    setLocalToken(token: string) {\r\n        localStorage.setItem('::token', token); // esto se modifica\r\n        // localStorage.setItem('::token-auth', token); // este se mantiene\r\n        // guardo tambien la hora que esta iniciando session\r\n        const ms_tieme_init_session = new Date().getTime();\r\n        localStorage.setItem('sys::numtis', ms_tieme_init_session.toString());\r\n    }\r\n\r\n\r\n    setTokenAuth(token: string) {\r\n        localStorage.setItem('::token-auth', token); // este se mantiene\r\n    }\r\n\r\n    getLocalToken() {\r\n        return localStorage.getItem('::token');\r\n    }\r\n\r\n    setLocalUsuario(usuario: UsuarioAutorizadoModel) {\r\n        localStorage.setItem('::us', JSON.stringify(usuario));\r\n    }\r\n\r\n    verifyToken() {\r\n        return this.crudService.verificarToken();\r\n    }\r\n\r\n    loggedOutUser() {\r\n        localStorage.removeItem('::token');\r\n        localStorage.removeItem('::us');\r\n        // localStorage.clear();\r\n        this.setLoggedStatus(false);\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\nimport createAuth0Client from '@auth0/auth0-spa-js';\nimport Auth0Client from '@auth0/auth0-spa-js/dist/typings/Auth0Client';\nimport { from, of, Observable, BehaviorSubject, combineLatest, throwError } from 'rxjs';\nimport { tap, catchError, concatMap, shareReplay } from 'rxjs/operators';\nimport { Router } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class Auth0Service {\n  // Create an observable of Auth0 instance of client\n  auth0Client$ = (from(\n    createAuth0Client({\n      domain: 'dev-m48s1pe2.auth0.com',\n      client_id: 'kSs64dcx34Fo7HpDLYkE3gQH0v2MtcdR',\n      redirect_uri: `${window.location.origin}/#/callback-auth`\n    })\n  ) as Observable<Auth0Client>).pipe(\n    shareReplay(1), // Every subscription receives the same shared value\n    catchError(err => throwError(err))\n  );\n  // Define observables for SDK methods that return promises by default\n  // For each Auth0 SDK method, first ensure the client instance is ready\n  // concatMap: Using the client instance, call SDK method; SDK returns a promise\n  // from: Convert that resulting promise into an observable\n  isAuthenticated$ = this.auth0Client$.pipe(\n    concatMap((client: Auth0Client) => from(client.isAuthenticated())),\n    tap(res => this.loggedIn = res)\n  );\n  handleRedirectCallback$ = this.auth0Client$.pipe(\n    concatMap((client: Auth0Client) => from(client.handleRedirectCallback()))\n  );\n  // Create subject and public observable of user profile data\n  private userProfileSubject$ = new BehaviorSubject<any>(null);\n  userProfile$ = this.userProfileSubject$.asObservable();\n  // Create a local property for login status\n  loggedIn: boolean = null;\n\n  constructor(private router: Router) {\n    // On initial load, check authentication state with authorization server\n    // Set up local auth streams if user is already authenticated\n    this.localAuthSetup();\n    // Handle redirect from Auth0 login\n    this.handleAuthCallback();\n  }\n\n  // When calling, options can be passed if desired\n  // https://auth0.github.io/auth0-spa-js/classes/auth0client.html#getuser\n  getUser$(options?): Observable<any> {\n    return this.auth0Client$.pipe(\n      concatMap((client: Auth0Client) => from(client.getUser(options))),\n      tap(user => this.userProfileSubject$.next(user))\n    );\n  }\n\n  private localAuthSetup() {\n    // This should only be called on app initialization\n    // Set up local authentication streams\n    const checkAuth$ = this.isAuthenticated$.pipe(\n      concatMap((loggedIn: boolean) => {\n        if (loggedIn) {\n          // If authenticated, get user and set in app\n          // NOTE: you could pass options here if needed\n          return this.getUser$();\n        }\n        // If not authenticated, return stream that emits 'false'\n        return of(loggedIn);\n      })\n    );\n    checkAuth$.subscribe();\n  }\n\n  login(redirectPath: string = '/', proveedor: string) {\n    // A desired redirect path can be passed to login method\n    // (e.g., from a route guard)\n    // Ensure Auth0 client instance exists\n    this.auth0Client$.subscribe((client: Auth0Client) => {\n      // Call method to log in\n      client.loginWithRedirect({\n        connection: proveedor,\n        redirect_uri: `${window.location.origin}/#/callback-auth`,\n        appState: { target: redirectPath }\n      });\n    });\n  }\n\n  private handleAuthCallback() {\n    // Call when app reloads after user logs in with Auth0\n    const params = window.location.search;\n    if (params.includes('code=') && params.includes('state=')) {\n      let targetRoute: string; // Path to redirect to after login processsed\n      const authComplete$ = this.handleRedirectCallback$.pipe(\n        // Have client, now call method to handle auth callback redirect\n        tap(cbRes => {\n          // Get and set target redirect route from callback results\n          targetRoute = cbRes.appState && cbRes.appState.target ? cbRes.appState.target : '/';\n        }),\n        concatMap(() => {\n          // Redirect callback complete; get user and login status\n          return combineLatest([\n            this.getUser$(),\n            this.isAuthenticated$\n          ]);\n        })\n      );\n      // Subscribe to authentication completion observable\n      // Response will be an array of user and login status\n      authComplete$.subscribe(([user, loggedIn]) => {\n        // Redirect to target route after callback processing\n        this.router.navigate([targetRoute]);\n      });\n    }\n  }\n\n  logout() {\n    // Ensure Auth0 client instance exists\n    this.auth0Client$.subscribe((client: Auth0Client) => {\n      // Call method to log out\n      client.logout({\n        client_id: 'kSs64dcx34Fo7HpDLYkE3gQH0v2MtcdR',\n        returnTo: `${window.location.origin}`\n      });\n    });\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { DeliveryDireccionCliente } from 'src/app/modelos/delivery.direccion.cliente.model';\nimport { DeliveryEstablecimiento } from 'src/app/modelos/delivery.establecimiento';\nimport { GeoPositionModel } from 'src/app/modelos/geoposition.model';\nimport {\n  insideCircle,\n  distanceTo\n} from 'geolocation-utils';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CalcDistanciaService {\n  directionsService = new google.maps.DirectionsService();\n  // private directionsDisplay = new google.maps.DirectionsRenderer();\n\n  private origin = {};\n  private destination = {};\n\n\n  constructor() { }\n\n\n  calculateRoute(dirCliente: DeliveryDireccionCliente, dirEstablecimiento: DeliveryEstablecimiento): any {\n    let c_servicio = dirEstablecimiento.c_minimo;\n    const c_km = dirEstablecimiento.c_km; // costo x km adicional\n\n    // cordenadas\n    this.origin = {\n      lat: dirCliente.latitude, lng: dirCliente.longitude\n    };\n\n    this.destination = {\n      lat: dirEstablecimiento.latitude, lng: dirEstablecimiento.longitude\n    };\n\n    const request = {\n      origin: this.origin,\n      destination: this.destination,\n      travelMode: google.maps.TravelMode.DRIVING\n    };\n\n    let km = 0;\n    this.directionsService.route(request, (result: any, status) => {\n      if (status === 'OK') {\n        // this.directionsRenderer.setDirections(result);\n        km = result.routes[0].legs[0].distance.value;\n        km = parseInt((km / 1000).toFixed(), 0);\n\n        if ( km > 1 ) {\n          c_servicio = (( km - 1 ) * c_km) + c_servicio;\n          dirEstablecimiento.c_servicio = c_servicio;\n          // return c_servicio;\n        }\n\n        // console.log('km calc', km);\n        // console.log(result.routes[0].legs[0]);\n        // console.log('c_servicio', c_servicio);\n        // console.log('dirEstablecimiento', dirEstablecimiento);\n        // return c_servicio;\n        // callback(c_servicio);\n      }\n    });\n\n    setTimeout(() => {\n      dirEstablecimiento.c_servicio = c_servicio;\n      return c_servicio;\n    }, 500);\n\n    dirEstablecimiento.c_servicio = c_servicio;\n      return c_servicio;\n  }\n\n\n  // retorna true si esta cerca\n  calcDistancia(coordOrigen: GeoPositionModel, coordDetino: GeoPositionModel, radius: number = 100): boolean {\n    coordDetino.latitude = typeof coordDetino.latitude === 'string' ? parseFloat(coordDetino.latitude) : coordDetino.latitude;\n    coordDetino.longitude = typeof coordDetino.longitude === 'string' ? parseFloat(coordDetino.longitude) : coordDetino.longitude;\n    const center = {lat: coordDetino.latitude, lon: coordDetino.longitude };\n    // const radius = 75; // meters\n    return insideCircle({lat: coordOrigen.latitude, lon: coordOrigen.longitude}, center, radius);  // false\n  }\n\n  calcDistanciaEnMetros(coordOrigen: GeoPositionModel, coordDetino: GeoPositionModel): Number {\n    coordDetino.latitude = typeof coordDetino.latitude === 'string' ? parseFloat(coordDetino.latitude) : coordDetino.latitude;\n    coordDetino.longitude = typeof coordDetino.longitude === 'string' ? parseFloat(coordDetino.longitude) : coordDetino.longitude;\n    const _from = {lat: coordOrigen.latitude, lon: coordOrigen.longitude };\n    const _to = {lat: coordDetino.latitude, lon: coordDetino.longitude };\n    // const radius = 75; // meters\n    return distanceTo(_from, _to);  // false\n  }\n\n  //radio metros\n  isUbicationIntroRadio(coords1, coords2, radio = 10) {\n    const _rptDistance = this.calculateDistanceInMt(coords1, coords2);\n    return _rptDistance <= radio ? true : false;\n  }\n\n  calculateDistanceInMt(coords1, coords2) {\n    const lat1 = coords1.latitude;\n    const lng1 = coords1.longitude;\n    const lat2 = coords2.latitude;\n    const lng2 = coords2.longitude;\n\n    // Calcular la distancia utilizando la fórmula de distancia entre dos puntos en un plano cartesiano\n    const distance = Math.atan2(\n      Math.sqrt(\n        Math.pow(Math.cos(lat2) * Math.sin(lng2 - lng1), 2) +\n        Math.pow(Math.cos(lat1) * Math.sin(lat2) -\n                Math.sin(lat1) * Math.cos(lat2) * Math.cos(lng2 - lng1), 2)\n      ),\n      Math.sin(lat1) * Math.sin(lat2) +\n      Math.cos(lat1) * Math.cos(lat2) * Math.cos(lng2 - lng1)\n    ) * 6371;\n\n    // Devolver la distancia en metros\n    return distance * 1000;\n  }\n\n  // regla x km adicional\n  private reglaKm() {\n\n  }\n}\n\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { InfoTockenService } from './info-token.service';\r\nimport { URL_SERVER, URL_CONSULTA_RUC_DNI, TOKEN_CONSULTA, TOKEN_SMS } from '../config/config.const';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { UsuarioTokenModel } from 'src/app/modelos/usuario.token.model';\r\n\r\n\r\n@Injectable()\r\nexport class CrudHttpService {\r\n\r\n    constructor(\r\n        private httpClient: HttpClient\r\n        , private infoTockenService: InfoTockenService\r\n    ) {\r\n\r\n    }\r\n\r\n    // conOrg, conSede FILTRAN SI NO SE ESPECIFICA POR ORG Y SEDE\r\n    getAll(controller: string, evento: string, conOrg: boolean = true, conSede: boolean = true, token: boolean = true): Observable<any[]> {\r\n        const url = this.setUrlFiltros(controller, evento, conOrg, conSede);\r\n        const header = token ? this.getHeaderHttpClientForm() : null;\r\n\r\n        return this.httpClient.get<any[]>(url, { headers: header });\r\n    }\r\n\r\n    getTimeNow(): Observable<any[]> {\r\n        const url = this.setUrlFiltros('estadistica', 'getFechaNow', false, false);\r\n        const header = null;\r\n        return this.httpClient.get<any[]>(url, { headers: header });\r\n    }\r\n\r\n    // numeropagina: numero pagina a mostrar\r\n    // rows: cantidad de filas o registros a mostrar\r\n    // filter: filtros de busqueda para la paginacion // se adjunta a org y sede\r\n    // orden: nombre del campo por el cual se ordenara\r\n    // ordendireccion: default ASC\r\n    paginacion(controller: string, evento: string,\r\n        pagenumber: number, rows: number, filter: string,\r\n        orden: string, ordendireccion: string = null,\r\n        conOrg: boolean = true, conSede: boolean = true): Observable<any[]> {\r\n\r\n\r\n        const url = this.setUrlFiltros(controller, evento, conOrg, conSede, filter);\r\n        // console.log('url', url);\r\n        const params = new HttpParams({\r\n            fromObject: {\r\n                pagenumber: pagenumber.toString(),\r\n                rows: rows.toString(),\r\n                orden: orden,\r\n                ordendireccion: ordendireccion || ''\r\n            }\r\n        });\r\n\r\n        return this.httpClient.get<any[]>(url, { params: params });\r\n    }\r\n\r\n    // enviar idorg o idsede o idusuario vacios, el back end los llenara\r\n    create(datos: any, controller: string, evento: string = 'create'): Observable<any> {\r\n        const url = this.setUrl(controller, evento);\r\n        const header = this.getHeaderHttpClientForm();\r\n\r\n        return this.httpClient.post<any>(url, datos, { headers: header });\r\n    }\r\n\r\n    // enviar idorg o idsede o idusuario vacios, el back end los llenara\r\n    update(datos: any, id: any, controller: string, evento: string = 'update'): Observable<any> {\r\n        const url = this.setUrl(controller, evento) + '/' + id.toString();\r\n        const header = this.getHeaderHttpClientForm();\r\n\r\n        return this.httpClient.put<any>(url, datos, { headers: header });\r\n    }\r\n\r\n    updateFree(datos: any, controller: string, evento: string = 'update', conToken: boolean = true): Observable<any> {\r\n        const url = this.setUrl(controller, evento);\r\n        const header = conToken ? this.getHeaderHttpClientForm() : this.getHeaderHttpClientFormNoToken();\r\n\r\n        return this.httpClient.put<any>(url, datos, { headers: header });\r\n    }\r\n\r\n    // enviar idorg o idsede o idusuario vacios, el back end los llenara\r\n    postFree(datos: any, controller: string, evento: string = 'update', conToken: boolean = true): Observable<any> {\r\n        const url = this.setUrl(controller, evento);\r\n        const header = conToken ? this.getHeaderHttpClientForm() : this.getHeaderHttpClientFormNoToken();\r\n\r\n        return this.httpClient.post<any>(url, datos, { headers: header });\r\n    }\r\n\r\n    // enviar mensaje SMS de seguridad\r\n    postSMS(datos: any, controller: string, evento: string , conTokenSMS: boolean = true): Observable<any> {\r\n        const url = this.setUrl(controller, evento);\r\n        const header = conTokenSMS ? this.getHeaderHttpClientFormSMS() : this.getHeaderHttpClientFormNoToken();\r\n\r\n        return this.httpClient.post<any>(url, datos, { headers: header });\r\n    }\r\n\r\n    getFree(url: string): Observable<any> {\r\n        return this.httpClient.get<any>(url);\r\n    }\r\n\r\n    // consulta ruc o dni\r\n    getConsultaRucDni(controller: string, number: string): Observable<any> {\r\n        const url =  `${URL_CONSULTA_RUC_DNI}${controller}/${number}`;\r\n        const header = new HttpHeaders()\r\n            .set('Content-Type', 'application/json')\r\n            .set('Authorization', `Bearer ${TOKEN_CONSULTA}`);\r\n\r\n        return this.httpClient.get<any>(url, { headers: header });\r\n    }\r\n\r\n    getFilterBy(controller: string, evento: string,\r\n        filter: string, conOrg: boolean = true, conSede: boolean = true): Observable<any[]> {\r\n\r\n        const url = this.setUrlFiltros(controller, evento, conOrg, conSede, filter);\r\n        return this.httpClient.get<any[]>(url);\r\n    }\r\n\r\n    getById(id: any, controller: string, evento: string): Observable<any[]> {\r\n        const url = this.setUrlFiltros(controller, evento, false, false, id);\r\n        return this.httpClient.get<any[]>(url);\r\n    }\r\n\r\n\r\n    // login manda los datos en json\r\n    loginUsuarioAutorizado(datos: any): Observable<any> {\r\n        // const url = this.setUrl('login-usuario-autorizado-repartidor', '');\r\n        const url = this.setUrl('login-usuario-autorizado-repartidor', '');\r\n        const header = this.getHeaderHttpClientFormNoToken();\r\n\r\n        console.log('url', url);\r\n\r\n        return this.httpClient.post<any>(url, datos, { headers: header });\r\n    }\r\n\r\n    verificarToken(): Observable<any> {\r\n        const url = this.setUrl('verificarToken', '');\r\n        const header = this.getHeaderHttpClientForm();\r\n\r\n        return this.httpClient.post<any>(url, { headers: header });\r\n    }\r\n\r\n    refreshToken() {\r\n        const _jwt = this.infoTockenService.getInfoUs();\r\n        const __jwt: any = !_jwt.pass ? _jwt.usuario : _jwt;\r\n\r\n        const _data = {\r\n            nomusuario: __jwt.usuario,\r\n            pass: atob(__jwt.pass)\r\n          };\r\n\r\n        const url = this.setUrl('login-usuario-autorizado-repartidor', '');\r\n        const header = this.getHeaderHttpClientFormNoToken();\r\n\r\n        return this.httpClient.post<any>(url, _data , { headers: header });\r\n    }\r\n\r\n\r\n\r\n\r\n    private setUrl(controller: string, evento: string) {\r\n        const url = `${URL_SERVER}/${controller}/${evento}`;\r\n        return url;\r\n    }\r\n\r\n    private setUrlFiltros(controller: string, evento: string, conOrg: boolean, conSede: boolean, filter: string = ''): string {\r\n        const getSede = conSede ? this.setInfoSedeToken() : '';\r\n        const getOrg = conOrg ? this.setInfoOrgToken() : '';\r\n        const getOperador = (conOrg && conSede) ? '~y~' : '';\r\n        const filterOrgSede = `${getSede + getOperador + getOrg}`;\r\n        let getFilter = filterOrgSede === '' ? filter : filter === '' ? '' : `~y~${filter}`;\r\n\r\n        getFilter = '/' + filterOrgSede + getFilter;\r\n\r\n\r\n        const url = `${URL_SERVER}/${controller}/${evento}${getFilter}`;\r\n        return url;\r\n    }\r\n\r\n    private setInfoSedeToken(): string {\r\n        return 'idsede:eq:' + this.infoTockenService.getInfoSedeToken();\r\n    }\r\n    private setInfoOrgToken(): string {\r\n        return 'idorg:eq:' + this.infoTockenService.getInfoSedeToken();\r\n    }\r\n\r\n    getHeaderHttpClientForm(): HttpHeaders {\r\n        const headers = new HttpHeaders()\r\n            .set('Content-Type', 'application/json')\r\n            .set('Authorization', this.infoTockenService.getTokenAuth());\r\n        return headers;\r\n    }\r\n\r\n    private getHeaderHttpClientFormSMS(): HttpHeaders {\r\n        const headers = new HttpHeaders()\r\n            .set('Content-Type', 'application/json')\r\n            .set('Authorization', TOKEN_SMS);\r\n        return headers;\r\n    }\r\n\r\n    getHeaderHttpClientFormNoToken(): HttpHeaders {\r\n        const headers = new HttpHeaders()\r\n            .set('Content-Type', 'application/json');\r\n        return headers;\r\n    }\r\n\r\n}\r\n","import { ErrorHandler, Injectable } from '@angular/core';\r\n\r\n\r\n@Injectable()\r\nexport class GlobalErrorHandler implements ErrorHandler {\r\n// manejo de errores en principio me maneja el error de carga inicial despues de una actualizacion\r\n\r\n  handleError(error: any): void {\r\n   const chunkFailedMessage = /Loading chunk [\\d]+ failed/;\r\n\r\n    // error carga inicial despues de actualizacion, recarga la pagina\r\n   if (chunkFailedMessage.test(error.message)) {\r\n      window.location.reload();\r\n    }\r\n\r\n\r\n    console.error(error);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor, HttpErrorResponse } from '@angular/common/http';\nimport { Observable } from 'rxjs/internal/Observable';\nimport { catchError } from 'rxjs/operators';\nimport { AuthService } from './auth.service';\nimport { Router } from '@angular/router';\n// import { RepartidorService } from './repartidor.service';\n\n\n@Injectable()\nexport class HttpConfigInterceptorService implements HttpInterceptor {\n\n  constructor(\n    private authService: AuthService\n    , private router: Router\n    // , private crudService: CrudHttpService\n    // , private repartidorService: RepartidorService\n    ) { }\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    return next.handle(request)\n      .pipe(\n        catchError((err, caught: Observable<HttpEvent<any>>) => {\n          if (err instanceof HttpErrorResponse && err.status === 401) {\n            // si es error 401 de autentificacion es decir token caducadado\n            // lo refresquea\n            // manda a loguearse nuevamente\n            // this.crudService.refreshToken().subscribe(res => {\n            //   this.authService.setLocalToken(res.token);\n            //   this.authService.setLoggedStatus(true);\n            // });\n            // this.repartidorService.cerrarSession();\n            localStorage.clear();\n            this.router.navigate(['../']);\n          }\n          throw err;\n        })\n      );\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { UsuarioTokenModel } from 'src/app/modelos/usuario.token.model';\r\nimport { MetodoPagoModel } from 'src/app/modelos/metodo.pago.model';\r\n\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class InfoTockenService {\r\n  infoUsToken: UsuarioTokenModel;\r\n  constructor(\r\n    // private miPedidoService: MipedidoService,\r\n  ) {\r\n    this.converToJSON();\r\n  }\r\n\r\n  getInfoUs(): UsuarioTokenModel {\r\n    this.getLocalIpCliente();\r\n    return this.infoUsToken;\r\n  }\r\n\r\n  saveToken(token: any) {\r\n    localStorage.setItem('::token', token);\r\n\r\n    // guardo tambien la hora que esta iniciando session\r\n    const ms_tieme_init_session = new Date().getTime();\r\n    localStorage.setItem('sys::numtis', ms_tieme_init_session.toString());\r\n  }\r\n\r\n  getInfoSedeToken(): string {\r\n    // const token = jwt.decode(this.getToken());\r\n    return this.infoUsToken.idsede.toString();\r\n    // return '1';\r\n  }\r\n  getInfoOrgToken(): string {\r\n    return this.infoUsToken.idorg.toString();\r\n  }\r\n\r\n  getInfoNomSede(): string {\r\n    return localStorage.getItem('sys::s');\r\n  }\r\n\r\n  isCliente(): boolean {\r\n    return this.infoUsToken.isCliente;\r\n  }\r\n\r\n  isSoloLlevar(): boolean {\r\n    return this.infoUsToken.isSoloLLevar;\r\n  }\r\n\r\n  isDelivery(): boolean {\r\n    return this.infoUsToken.isDelivery;\r\n  }\r\n\r\n  getLocalIpCliente(): string {\r\n    this.infoUsToken.ipCliente = localStorage.getItem('sys::it') || '';\r\n    return this.infoUsToken.ipCliente;\r\n  }\r\n\r\n  setLocalIpCliente(val: string): void {\r\n    localStorage.setItem('sys::it', val);\r\n  }\r\n\r\n  setIsPagoSuccess(val: boolean) {\r\n    this.infoUsToken.isPagoSuccess = val;\r\n    this.set();\r\n  }\r\n\r\n  // para el confirmar pago si es clienteDelivery\r\n  setOrderDelivery(_order: string, _importes: string): void {\r\n    this.infoUsToken.orderDelivery = btoa(_order);\r\n    this.infoUsToken.importeDelivery = btoa(_importes);\r\n\r\n    // const _token = `eyCJ9.${btoa(JSON.stringify(this.infoUsToken))}`;\r\n    // localStorage.setItem('::token', _token);\r\n    this.set();\r\n  }\r\n\r\n  setTelefono(val: string) {\r\n    this.infoUsToken.telefono = val;\r\n    this.set();\r\n  }\r\n\r\n  setMetodoPago( metodo: MetodoPagoModel) {\r\n    this.infoUsToken.metodoPago = metodo;\r\n    this.set();\r\n  }\r\n\r\n  setIniMetodoPago() {\r\n    const metodoPagoInit: MetodoPagoModel = new MetodoPagoModel;\r\n    metodoPagoInit.idtipo_pago = 2;\r\n    metodoPagoInit.descripcion = 'Tarjeta';\r\n    metodoPagoInit.importe = '0';\r\n    metodoPagoInit.checked = true;\r\n\r\n    this.setMetodoPago( metodoPagoInit );\r\n  }\r\n\r\n  setEfectivoMano( val: number) {\r\n    this.infoUsToken.efectivoMano = val;\r\n    this.set();\r\n  }\r\n\r\n  setisOnline( val: boolean) {\r\n    this.infoUsToken.isOnline = val;\r\n    this.set();\r\n  }\r\n\r\n  setSocketId( val: string) {\r\n    // this.infoUsToken.socketId = this.infoUsToken.socketId ? this.infoUsToken.socketId : val;\r\n    this.infoUsToken.socketId = val;\r\n    this.set();\r\n  }\r\n\r\n\r\n  // guarda en el local storage\r\n  set() {\r\n    const _token = `eyCJ9.${btoa(JSON.stringify(this.infoUsToken))}`;\r\n    localStorage.setItem('::token', _token);\r\n  }\r\n  //\r\n\r\n  getToken(): any { return localStorage.getItem('::token'); } // este lo modificamos\r\n  getTokenAuth(): any { return localStorage.getItem('::token-auth'); } // este se mantiene desde la session (original)\r\n\r\n  converToJSON(): void {\r\n    if (localStorage.getItem('::token')) {\r\n      const _token =  JSON.parse(atob(localStorage.getItem('::token').split('.')[1]));\r\n\r\n      // si existe idcliente, setea al usuario\r\n      if ( _token.idcliente ) {\r\n        const _newUs = new UsuarioTokenModel();\r\n        _newUs.isCliente = true;\r\n        _newUs.idcliente = _token.idcliente;\r\n        _newUs.idorg = _token.idorg;\r\n        _newUs.idsede = _token.idsede;\r\n        _newUs.nombres = _token.datalogin ? _token.datalogin.name : _token.nombres ;\r\n        _newUs.idusuario = 0;\r\n        _newUs.usuario = 'cliente';\r\n        _newUs.numMesaLector = _token.numMesaLector;\r\n        _newUs.ipCliente = _token.ipCliente;\r\n        _newUs.isSoloLLevar = _token.isSoloLLevar;\r\n        _newUs.isDelivery = _token.isDelivery;\r\n        _newUs.direccionEnvioSelected = _token.direccionEnvioSelected;\r\n        _newUs.telefono = _token.telefono;\r\n        _newUs.orderDelivery = _token.orderDelivery;\r\n        _newUs.importeDelivery = _token.importeDelivery;\r\n        _newUs.isPagoSuccess = _token.isPagoSuccess;\r\n        _newUs.metodoPago = _token.metodoPago;\r\n        _newUs.efectivoMano = _token.efectivoMano;\r\n        _newUs.socketId = _token.socketId;\r\n        this.infoUsToken = _newUs;\r\n\r\n        // agregar el metodo pago prederteminado tarjeta\r\n        if (!this.infoUsToken.metodoPago)  { this.setIniMetodoPago(); }\r\n      } else {\r\n        this.infoUsToken = <UsuarioTokenModel>_token;\r\n        this.infoUsToken.isCliente = false;\r\n      }\r\n    } else {\r\n      this.infoUsToken = null;\r\n    }\r\n  }\r\n\r\n  cerrarSession(): void {\r\n    localStorage.removeItem('::token');\r\n    localStorage.removeItem('sys::rules');\r\n    localStorage.removeItem('sys::status');\r\n    localStorage.removeItem('sys::numtis');\r\n    localStorage.removeItem('sys::st');\r\n\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('sys::ed');\r\n    localStorage.removeItem('sys::transaction-response');\r\n    localStorage.removeItem('sys::transaction-load');\r\n    localStorage.removeItem('data');\r\n    // localStorage.removeItem('sys::tpm');\r\n  }\r\n\r\n  // verifica el tiempo de inactividad para cerrar session\r\n  // cerrar session despues de 3:20 => ( 12000 sec )horas inciadas\r\n  verificarContunuarSession(): boolean {\r\n    if ( !this.infoUsToken || !this.infoUsToken.isCliente || !this.infoUsToken.isDelivery) { // si es usuario autorizado no cuenta tiempo\r\n      return true;\r\n    }\r\n    const numTis = parseInt(localStorage.getItem('sys::numtis'), 0);\r\n    let continueSession = !isNaN(numTis);\r\n\r\n    if (!continueSession) {\r\n      this.cerrarSession();\r\n      // this.miPedidoService.cerrarSession();\r\n      return continueSession;\r\n    }\r\n\r\n    const ms_now = new Date().getTime();\r\n    const ms = ms_now - numTis;\r\n    const sec = Math.floor((ms / 1000));\r\n\r\n    if ( sec > 10000 ) {\r\n      continueSession = false;\r\n    }\r\n\r\n    if (!continueSession) {\r\n      this.cerrarSession();\r\n      // this.miPedidoService.cerrarSession();\r\n      return continueSession;\r\n    }\r\n\r\n    return true;\r\n    // const timeAfter = localStorage.getItem('sys::tnum') ? parseInt(localStorage.getItem('sys::tnum'), 0) : ms_new;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\nimport { EstadoPedidoModel } from 'src/app/modelos/estado.pedido.model';\nimport { DeliveryDireccionCliente } from 'src/app/modelos/delivery.direccion.cliente.model';\nimport { PedidoRepartidorModel } from 'src/app/modelos/pedido.repartidor.model';\nimport { GeoPositionModel } from 'src/app/modelos/geoposition.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ListenStatusService {\n\n  // para activar la busqueda\n  private isBusquedaSource = new BehaviorSubject<boolean>(false);\n  public isBusqueda$ = this.isBusquedaSource.asObservable();\n\n  // string a buscar\n  private charBuquedaSource = new BehaviorSubject<string>('');\n  public charBuqueda$ = this.charBuquedaSource.asObservable();\n\n  // hay items en la busqueda - se encontro cuenta\n  private hayCuentaBusquedaSource = new BehaviorSubject<boolean>(false);\n  public hayCuentaBusqueda$ = this.hayCuentaBusquedaSource.asObservable();\n\n  // datos de la sede estan disponible\n  private hayDatosSedeSource = new BehaviorSubject<boolean>(false);\n  public hayDatosSede$ = this.hayDatosSedeSource.asObservable();\n\n  // si es cliente usuario\n  private isUsuarioClienteSource = new BehaviorSubject<boolean>(false);\n  public isUsuarioCliente$ = this.isUsuarioClienteSource.asObservable();\n\n  // estado del pedido enviado por el cliente\n  private estadoPedidoSource = new BehaviorSubject<EstadoPedidoModel>(new EstadoPedidoModel());\n  public estadoPedido$ = this.estadoPedidoSource.asObservable();\n\n  // hay pedido en el storage, si es cliente usuario no cargar al cuenta.\n  private hayPedidoPendienteSource = new BehaviorSubject<boolean>(false);\n  public hayPedidoPendiente$ = this.hayPedidoPendienteSource.asObservable();\n\n  // form pagar la cuenta\n  private isPagePagarCuentaShowSource = new BehaviorSubject<boolean>(false);\n  public isPagePagarCuentaShow$ = this.isPagePagarCuentaShowSource.asObservable();\n\n  // si el boton de pago ha sido visible // recargamos la pagina al volver a ingresar\n  private isBtnPagoShowSource = new BehaviorSubject<boolean>(false);\n  public isBtnPagoShow$ = this.isBtnPagoShowSource.asObservable();\n\n  // notifica el pago correcto para enviar el pedido cuando es solo para llevar\n  private isPagoSuccesSource = new BehaviorSubject<boolean>(false);\n  public isPagoSucces$ = this.isPagoSuccesSource.asObservable();\n\n  private isChangeDireccionDeliverySource = new BehaviorSubject<DeliveryDireccionCliente>(null);\n  public isChangeDireccionDelivery$ = this.isChangeDireccionDeliverySource.asObservable();\n\n\n  // repartidor\n\n\n  // notifica salir del establecimeinto cuando es cliente delivery goback\n  private isOutEstablecimientoDeliverySource = new BehaviorSubject<boolean>(false);\n  public isOutEstablecimientoDelivery$ = this.isOutEstablecimientoDeliverySource.asObservable();\n\n\n  // notifica efectivo en mano\n  private efectivoManoSource = new BehaviorSubject<number>(0);\n  public efectivoManoMano$ = this.efectivoManoSource.asObservable();\n\n  // notifica cambios en el pedido\n  private pedidoModificadoSource = new BehaviorSubject<PedidoRepartidorModel>(null);\n  public pedidoModificado$ = this.pedidoModificadoSource.asObservable();\n\n  // listen position gps\n  private myPositionSource = new BehaviorSubject<GeoPositionModel>(null);\n  public myPosition$ = this.myPositionSource.asObservable();\n\n  // listen new pedido repartidor propio // llega el pedido\n  private newPedidoRepartoPropioSource = new BehaviorSubject<any>(null);\n  public newPedidoRepartoPropio$ = this.newPedidoRepartoPropioSource.asObservable();\n\n\n  constructor() { }\n\n  setIsBusqueda() {\n    if ( !this.isBusquedaSource.value ) {\n      setTimeout(() => {\n        this.isBusquedaSource.next(true);\n      }, 250);\n    } else {\n      this.isBusquedaSource.next(false);\n    }\n  }\n\n  setCharBusqueda(charFind: string) {\n    this.charBuquedaSource.next(charFind);\n  }\n\n  setHayCuentaBuesqueda(value: boolean): void {\n    this.hayCuentaBusquedaSource.next(value);\n  }\n\n  setHayDatosSede(value: boolean): void {\n    this.hayDatosSedeSource.next(value);\n  }\n\n  setIsUsuarioCliente(value: boolean): void {\n    this.isUsuarioClienteSource.next(value);\n  }\n\n  setEstadoPedido(value: EstadoPedidoModel): void {\n    this.estadoPedidoSource.next(value);\n  }\n\n  setHayPedidoPendiente(value: boolean): void {\n    this.hayPedidoPendienteSource.next(value);\n  }\n\n  setIsPagePagarCuentaShow(value: boolean) {\n    this.isPagePagarCuentaShowSource.next(value);\n  }\n\n  setIsBtnPagoShow(value: boolean) {\n    this.isBtnPagoShowSource.next(value);\n  }\n\n  setPagoSuccess(value: boolean) {\n    this.isPagoSuccesSource.next(value);\n  }\n\n\n\n  // repartidor\n\n  setChangeDireccionDelivery(value: DeliveryDireccionCliente) {\n    this.isChangeDireccionDeliverySource.next(value);\n  }\n\n  setIsOutEstablecimientoDelivery(value: boolean) {\n    this.isOutEstablecimientoDeliverySource.next(value);\n  }\n\n  setEfectivoMano(value: number) {\n    this.efectivoManoSource.next(value);\n  }\n\n  // notifica cambios en el pedido\n  setPedidoModificado(pedido: PedidoRepartidorModel) {\n    this.pedidoModificadoSource.next(pedido);\n  }\n\n  // notifica posicion repartidor\n  setMyPosition(pos: GeoPositionModel) {\n    this.myPositionSource.next(pos);\n  }\n\n  // listen new pedido repartidor propio\n  setNewPedidoRepartoPropio(pedido: any) {\n    this.newPedidoRepartoPropioSource.next(pedido);\n  }\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { PedidoRepartidorModel } from 'src/app/modelos/pedido.repartidor.model';\nimport { CrudHttpService } from './crud-http.service';\nimport { TipoConsumoModel } from 'src/app/modelos/tipoconsumo.model';\nimport { SeccionModel } from 'src/app/modelos/seccion.model';\nimport { ItemModel } from 'src/app/modelos/item.model';\nimport { PedidoModel } from 'src/app/modelos/pedido.model';\n// import { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\nimport { Observable } from 'rxjs/internal/Observable';\nimport { Router } from '@angular/router';\nimport { SocketService } from './socket.service';\nimport { InfoTockenService } from './info-token.service';\nimport { ListenStatusService } from './listen-status.service';\nimport { EstablecimientoService } from './establecimiento.service';\nimport { GeoPositionModel } from 'src/app/modelos/geoposition.model';\nimport { CalcDistanciaService } from './calc-distancia.service';\nimport { TimeLinePedido } from 'src/app/modelos/time.line.pedido';\nimport { SendMsjService } from './send-msj.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PedidoRepartidorService {\n  pedidoRepartidor: PedidoRepartidorModel;\n  pedidoSelected: any;\n  grupoPedidoIds: any;\n  grupoPedidoItems: any;\n  keyLocal = 'sys::pr';\n  keyLocalIds = 'sys::pr::ids';\n  keyLocalItem = 'sys::pr::it';\n  keyLocalItemSelected = 'sys::pr::selected';\n\n  private _repartidor;\n\n  constructor(\n    private crudService: CrudHttpService,\n    private router: Router,\n    private infoTokenService: InfoTockenService,\n    private listenService: ListenStatusService,\n    private socketService: SocketService,\n    private calcDistanciaService: CalcDistanciaService,\n    private sendMsjService: SendMsjService\n  ) {\n    this.init();\n  }\n\n  init() {\n    this.pedidoRepartidor = this.getLocal();\n\n  }\n\n  cleanLocal(): void {\n    localStorage.removeItem(this.keyLocalIds);\n    localStorage.removeItem(this.keyLocalItem);\n    localStorage.removeItem(this.keyLocal);\n    localStorage.removeItem(this.keyLocalItemSelected);\n    localStorage.removeItem('sys::pXa');\n    this.pedidoRepartidor = this.getLocal();\n  }\n\n  setPasoVa(val: number) {\n    this.pedidoRepartidor.paso_va = val;\n    this.setLocal(this.pedidoRepartidor);\n  }\n\n  setPedidoPasoVa(val: number) {\n    // console.log('estado cambiado', val);\n    this.pedidoRepartidor.pedido_paso_va = val;\n    this.setLocal(this.pedidoRepartidor);\n  }\n\n  // setCostoSercicio(val: string) {\n  //   this.pedidoRepartidor.c_servicio = val;\n  //   this.setLocal(this.pedidoRepartidor);\n  // }\n\n  // setImporteTotalPedido(val: string) {\n  //   this.pedidoRepartidor.importePedido = val;\n  //   this.setLocal(this.pedidoRepartidor);\n  // }\n\n  // setIsHayPropina(val: boolean) {\n  //   this.pedidoRepartidor.isHayPropina = val;\n  //   this.setLocal(this.pedidoRepartidor);\n  // }\n\n  setLocal(obj = null) {\n    obj = obj ? obj : this.pedidoRepartidor;\n    localStorage.setItem(this.keyLocal, btoa(JSON.stringify(obj)));\n  }\n\n  setLocalIds(obj) {\n    // obj = obj ? obj : this.pedidoRepartidor;\n    localStorage.setItem(this.keyLocalIds, btoa(JSON.stringify(obj)));\n  }\n\n  setLocalItems(obj) {\n    // obj = obj ? obj : this.pedidoRepartidor;\n    // localStorage.setItem(this.keyLocalItem, btoa(JSON.stringify(obj)));\n    localStorage.setItem(this.keyLocalItem, JSON.stringify(obj));\n  }\n\n  setPedidoSelect(obj: any) {\n    localStorage.setItem(this.keyLocalItemSelected, btoa(JSON.stringify(obj)));\n  }\n\n  setPedidoPorAceptar(obj: any) {\n    localStorage.setItem('sys::pXa', btoa(JSON.stringify(obj)));\n  }\n\n  getPedidoPorAceptar() {\n    const rpt = localStorage.getItem('sys::pXa');\n    return rpt ? JSON.parse(atob(rpt)) : null;\n  }\n\n  getPedidoSelect() {\n    const rpt = localStorage.getItem(this.keyLocalItemSelected);\n    return rpt ? JSON.parse(atob(rpt)) : null;\n  }\n\n  getLocalIds(): any {\n    const rpt = localStorage.getItem(this.keyLocalIds);\n    return rpt ? JSON.parse(atob(rpt)) : null;\n  }\n\n  getLocalItems(): any {\n    const rpt = localStorage.getItem(this.keyLocalItem);\n    return rpt ? JSON.parse(rpt) : null;\n  }\n\n  getLocal(): PedidoRepartidorModel {\n    const rpt = localStorage.getItem(this.keyLocal);\n    return rpt ? JSON.parse(atob(rpt)) : new PedidoRepartidorModel;\n    // try {\n    // } catch (error) {\n    //   console.log('clean pedido from getlocal');\n    //   this.cleanLocal();\n    //   return new PedidoRepartidorModel;\n\n    // }\n  }\n\n  asignarPedido(): void {\n    const ids = this.getLocalIds().pedidos.join(',');\n    const _data = {\n      idpedido: ids,\n      repartidor: !this._repartidor ? this.infoTokenService.getInfoUs().usuario : this._repartidor\n    };\n\n    this.crudService.postFree(_data, 'repartidor', 'set-asignar-pedido', true)\n      .subscribe(res => {\n        // console.log(res);\n        this.pedidoRepartidor.estado = 1; // asignadp\n        this.setLocal();\n        // this.setPasoVa(1);\n\n      });\n  }\n\n  playAudioNewPedido() {\n    // console.trace();\n    const audio = new Audio();\n    audio.src = './assets/audio/Alarm04.wav';\n    audio.load();\n    audio.play();\n  }\n\n  // dar formato subtotales del pedido recibido\n  // saca el importe total del pedido separando el importe del servicio de entrega\n  darFormatoSubTotales(arrTotales: any = null, pwa_delivery_comercio_paga_entrega = null , costoEntrega = null) {\n    this.init();\n    arrTotales = arrTotales && arrTotales.length > 0 ? arrTotales : this.pedidoRepartidor.datosSubtotalesShow;\n    const rowTotal = arrTotales[arrTotales.length - 1];\n\n    // lo que paga el cliente\n    this.pedidoRepartidor.importePagaCliente = rowTotal.importe;\n\n    pwa_delivery_comercio_paga_entrega = pwa_delivery_comercio_paga_entrega !== null ? pwa_delivery_comercio_paga_entrega : this.pedidoRepartidor.datosComercio.pwa_delivery_comercio_paga_entrega;\n    costoEntrega = costoEntrega ? costoEntrega : this.pedidoRepartidor.datosDelivery.costoTotalDelivery;\n\n    // agregar o restar el importe del costo de entrega SI el comercio paga el costo de entrega pwa_delivery_comercio_paga_entrega\n    if ( pwa_delivery_comercio_paga_entrega === 1 ) {\n      // const costoEntrega = this.pedidoRepartidor.datosDelivery.costoTotalDelivery;\n      // ingresamos en la penultima postion del arrTotales\n      const postionInsert = arrTotales.length - 1;\n      const _row = {\n        descripcion: 'Costo de Entrega',\n        esImpuesto: 0,\n        id: -4,\n        importe: - costoEntrega,\n        quitar: false,\n        tachado: false,\n        visible: false,\n        visible_cpe: false\n      };\n      arrTotales.splice(postionInsert, 0, _row);\n\n      // console.log('costo de entrega insertado', arrTotales);\n    }\n\n\n    // -2 = servicio deliver -3 = propina\n    rowTotal.importe = arrTotales.filter(x => x.id !== -2 && x.id !== -3 && x.descripcion !== 'TOTAL').map(x => parseFloat(x.importe)).reduce((a, b) => a + b, 0);\n    this.pedidoRepartidor.importePedido = rowTotal.importe;\n    // this.setImporteTotalPedido(rowTotal.importe);\n    // costo total del servico + prpina\n    const costoServicio = parseFloat(arrTotales.filter(x => x.id === -2 || x.id === -3).map(x => parseFloat(x.importe)).reduce((a, b) => a + b, 0));\n    this.pedidoRepartidor.c_servicio = costoServicio.toString();\n    // this.setCostoSercicio(costoServicio.toString());\n\n    const _isHayPropina = arrTotales.filter(x => x.id === -3)[0] ? true : false;\n    // this.setIsHayPropina(_isHayPropina);\n    this.pedidoRepartidor.isHayPropina = _isHayPropina;\n\n    // cuanto paga el repartidor restando precio_default si el comercio no es afiliado\n\n\n    this.setLocal();\n    // quitamos el importe del servicio\n\n    return arrTotales.filter(x => x.id !== -2 && x.id !== -3);\n  }\n\n\n  // da formato al pedido, se utiliza para ver el detalle del pedido\n  darFormatoPedido(res: any): any {\n    const _miPedidoCuenta: PedidoModel = new PedidoModel();\n    const c_tiposConsumo: TipoConsumoModel[] = [];\n    let subTotalDefault = 0;\n\n\n        res.data.map( (tp: any) => {\n          let hayTpc = c_tiposConsumo.filter(x => x.idtipo_consumo === tp.idtipo_consumo)[0];\n          if (!hayTpc) {\n            hayTpc = new TipoConsumoModel;\n            hayTpc.descripcion = tp.des_tp;\n            hayTpc.idtipo_consumo = parseInt(tp.idtipo_consumo, 0);\n            c_tiposConsumo.push(hayTpc);\n          }\n        });\n\n\n        c_tiposConsumo.map((tp: TipoConsumoModel) => {\n          res.data\n            .filter((_tp: any) => _tp.idtipo_consumo === tp.idtipo_consumo)\n            .map((_s: any, i: number) => {\n              // let haySeccion = !tp.secciones ? null : tp.secciones.filter((s: SeccionModel) => s.idseccion.toString() === _s.idseccion.toString())[0];\n              let haySeccion = tp.secciones.filter((s: SeccionModel) => s.idseccion.toString() === _s.idseccion.toString())[0];\n              if (!haySeccion) {\n                haySeccion = new SeccionModel;\n                haySeccion.idseccion = _s.idseccion.toString();\n                haySeccion.des = _s.des_seccion;\n                haySeccion.sec_orden = _s.sec_orden;\n                haySeccion.ver_stock_cero = 0;\n                tp.count_items_seccion = i + 1;\n                tp.secciones.push(haySeccion);\n              }\n            });\n        });\n\n\n         // items\n    c_tiposConsumo.map((tp: TipoConsumoModel) => {\n      tp.secciones.map((s: SeccionModel) => {\n          res.data\n          .filter((_tp: any) => _tp.idtipo_consumo.toString() === tp.idtipo_consumo.toString() && _tp.idseccion.toString() === s.idseccion.toString())\n          .map((_i: any, i: number) => {\n            const hayItem = new ItemModel;\n\n            // precio total si el comercio no es afiliado muestra el precio default (sin comision para que el repartidor sepa el precio a pagar)\n            const precio_default = parseFloat(_i.precio_default) * parseInt(_i.cantidad, 0);\n            const p_unitario = _i.precio_default;\n            subTotalDefault += precio_default;\n\n            hayItem.des = _i.descripcion;\n            hayItem.detalles = '';\n            hayItem.iditem = _i.iditem;\n            hayItem.idcarta_lista = _i.idcarta_lista;\n            hayItem.idseccion = _i.idseccion;\n            hayItem.isalmacen = _i.isalmacen;\n            hayItem.cantidad_seleccionada = parseInt(_i.cantidad, 0);\n            hayItem.precio = p_unitario;\n            hayItem.precio_print = parseFloat(precio_default.toString());\n            hayItem.precio_total = parseFloat(precio_default.toString());\n            hayItem.procede = _i.procede === '0' ? 1 : 0;\n            hayItem.seccion = _i.des_seccion;\n            hayItem.img = _i.img;\n            hayItem.subitems_view = _i.subitems === 'null' || _i.subitems === '' || !_i.subitems ? [] : JSON.parse(_i.subitems);\n            s.count_items = i + 1;\n\n            s.items = s.items ? s.items : [];\n            s.items.push(hayItem);\n          });\n        });\n      });\n\n      _miPedidoCuenta.tipoconsumo = c_tiposConsumo;\n\n      this.reCalcularSubTotal(subTotalDefault);\n\n      return _miPedidoCuenta;\n  }\n\n  darFormatoPedidoLocal(pedidoLocal: PedidoModel, subotales = null): any {\n    let subTotalDefault = 0;\n\n    pedidoLocal.tipoconsumo.map(tp => {\n      tp.secciones.map( s => {\n       s.items.map( _i => {\n         const precio_default = parseFloat(_i.precio_default) * _i.cantidad_seleccionada;\n           const p_unitario = _i.precio_default;\n           subTotalDefault += precio_default;\n\n           _i.precio = p_unitario;\n           _i.precio_print = parseFloat(precio_default.toString());\n           _i.precio_total = parseFloat(precio_default.toString());\n       });\n     });\n    });\n\n    this.reCalcularSubTotal(subTotalDefault, subotales);\n    return pedidoLocal;\n  }\n\n  // subTotal = recibido del default\n  reCalcularSubTotal( subTotalDefault: number , subotales = null) {\n    this.init();\n    const _rowSubTotal = subotales ? subotales[0] : this.pedidoRepartidor.datosSubtotales[0];\n    // si el tototal es igual quiere decir de que no hay default comercio afiliado\n    if ( subTotalDefault === parseFloat(_rowSubTotal.importe) ) { return; }\n    const _diffSubTotal  = parseFloat(_rowSubTotal.importe) - subTotalDefault;\n    _rowSubTotal.importe = subTotalDefault;\n\n    // sumamos los totales\n    const rowTotal = subotales.filter(x => x.descripcion.toUpperCase() === 'TOTAL')[0];\n\n    // importe que pagara el cliente\n    this.pedidoRepartidor.importePagaCliente = rowTotal.importe;\n\n\n    rowTotal.importe = parseFloat(rowTotal.importe) - _diffSubTotal;\n\n    // this.pedidoRepartidor.datosSubtotales =\n    // this.setLocal();\n  }\n\n\n  // verifica el estado del pedido\n  // esto en inidicaciones por si se recarga o no llega la notificaion socket\n  verificarEstadoPedido(idpedido: number) {\n    return new Observable(observer => {\n      const _dataSend = {\n        idpedido: idpedido\n      };\n      this.crudService.postFree(_dataSend, 'repartidor', 'get-estado-pedido')\n        .subscribe(res => {\n          this.pedidoRepartidor.estado = res.data[0].pwa_delivery_status;\n          observer.next(this.pedidoRepartidor.estado);\n        });\n    });\n  }\n\n  // load pedidos asignados // grupo de pedidos\n  loadPedidosRecibidos(_ids: string) {\n    return new Observable(observer => {\n      const _dataSend = {\n        ids: _ids\n      };\n      this.crudService.postFree(_dataSend, 'repartidor', 'get-pedidos-recibidos-group')\n        .subscribe(res => {\n          // this.pedidoRepartidor.estado = res.data[0].pwa_delivery_status;\n          observer.next(res.data);\n        });\n    });\n  }\n\n\n  // fin de pedido // guarda datos del pedido\n  // isGrupoPedidos = si es grupo de pedidos\n  // time_line_pedido guarda la hora de entrega\n  finalizarPedido(isGrupoPedidos = false, time_line_pedido = null): void {\n    const comisionRepartidor = parseFloat(this.pedidoRepartidor.datosDelivery.costoTotalDelivery); // - parseFloat( this.pedidoRepartidor.datosComercio.pwa_delivery_comision_fija_no_afiliado );\n    const propinaRepartidor = this.pedidoRepartidor.datosDelivery.propina.value;\n    const costotalServicio = comisionRepartidor + parseFloat(propinaRepartidor);\n\n    const _importePagaCliente = this.pedidoRepartidor.importePagaCliente ? parseFloat(this.pedidoRepartidor.importePagaCliente) : parseFloat(this.pedidoRepartidor.importePedido) + costotalServicio;\n\n    // importeDepositar siempre y cuando el comercio no esta afiliado\n    // const importeDepositar = _importePagaCliente - (parseFloat(this.pedidoRepartidor.importePedido) + costotalServicio);\n    const _idRepartidor = this.pedidoRepartidor.datosRepartidor ? this.pedidoRepartidor.datosRepartidor.idrepartidor : this.infoTokenService.infoUsToken.usuario.idrepartidor;\n    const _dataSend = {\n      idrepartidor: _idRepartidor,\n      idpedido: this.pedidoRepartidor.idpedido,\n      time_line: time_line_pedido ? time_line_pedido : 0,\n      idcliente: this.pedidoRepartidor.datosDelivery.idcliente,\n      idsede: this.pedidoRepartidor.datosComercio.idsede,\n      operacion: {\n        isrepartidor_propio: false,\n        metodoPago: this.pedidoRepartidor.datosDelivery.metodoPago,\n        importeTotalPedido: _importePagaCliente,\n        importePagadoRepartidor: this.pedidoRepartidor.importePedido, // (a)(b)\n        comisionRepartidor: comisionRepartidor - this.pedidoRepartidor.datosComercio.pwa_delivery_comision_fija_no_afiliado, // menos costo fijo comercio no afiliado,\n        propinaRepartidor: propinaRepartidor,\n        costoTotalServicio: costotalServicio,\n        importeDepositar: parseFloat( this.pedidoRepartidor.datosComercio.pwa_delivery_comision_fija_no_afiliado ).toFixed(2) // (a)\n        // importePagaRepartidor: parseFloat(this.pedidoRepartidor.datosDelivery.importeTotal),\n      }\n    };\n\n    // (a) = cuando el comercio no esta afiliado el importe que el repartidor debe depositar, el imnporte fijo de comercio no afiliado\n    // (b) = precios de los productos sin comision\n    this.crudService.postFree(_dataSend, 'repartidor', 'set-fin-pedido-entregado')\n      .subscribe(res => {\n        // console.log(res);\n        // console.log('clean from finalizarPedido');\n        // chequea si todos los pedidos estan finalizados\n        if ( isGrupoPedidos ) {\n          const _pedidoFinalizar = this.getPedidoSelect();\n          this.listenService.setPedidoModificado(_pedidoFinalizar);\n\n          const allPedidos = this.getLocalItems();\n          // save estado pedido\n          const elPedido = allPedidos.filter(p => p.idpedido === _pedidoFinalizar.idpedido)[0];\n          elPedido.estado = 2;\n          this.setLocalItems(allPedidos);\n          this.socketService.emit('repartidor-notifica-fin-one-pedido', _pedidoFinalizar);\n\n          // console.log('repartidor-notifica-fin-one-pedido');\n\n          // chequea si los demas estan ya estan cerrados\n          const numCerrados = allPedidos.filter(p => p.estado === 0).length;\n\n          // if ( numCerrados === 0 ) {\n          //   this.socketService.emit('repartidor-grupo-pedido-finalizado', _idRepartidor);\n          //   // console.log('repartidor-grupo-pedido-finalizado');\n          //   this.cleanLocal();\n          //   this.router.navigate(['./main/pedidos']);\n          // }\n\n        } else {\n\n          this.socketService.emit('repartidor-propio-notifica-fin-pedido', this.pedidoRepartidor);\n\n          this.cleanLocal();\n          // this.router.navigate(['./main/pedidos']);\n        }\n\n      });\n  }\n\n  // fin de pedido // guarda datos del pedido\n  finalizarPedidoPropioRepartidor(time_line_pedido = null): void {\n    const _idPedidoRepartidor = this.pedidoRepartidor.datosRepartidor ? this.pedidoRepartidor.datosRepartidor.idrepartidor : this.infoTokenService.infoUsToken.usuario.idrepartidor;\n    const _dataSend = {\n      idrepartidor: _idPedidoRepartidor,\n      idpedido: this.pedidoRepartidor.idpedido,\n      time_line: time_line_pedido ? time_line_pedido : 0,\n      idcliente: this.pedidoRepartidor.datosCliente.idcliente,\n      idsede: this.pedidoRepartidor.datosComercio.idsede,\n      operacion: {\n        isrepartidor_propio: true,\n        metodoPago: this.pedidoRepartidor.datosDelivery.metodoPago,\n        importeTotalPedido: parseFloat(this.pedidoRepartidor.importePagaCliente),\n        importePagadoRepartidor: this.pedidoRepartidor.importePedido, // (a)(b)\n        comisionRepartidor: 0,\n        propinaRepartidor: 0,\n        costoTotalServicio: 0,\n        importeDepositar: 0 // (a)\n        // importePagaRepartidor: parseFloat(this.pedidoRepartidor.datosDelivery.importeTotal),\n      }\n    };\n\n     // notifica cambios en el pedido, para colocar icono entregado en el mapa del repartidor\n     this.pedidoRepartidor.estado = 4;\n     this.pedidoRepartidor.paso_va = 4;\n     this.pedidoRepartidor.pwa_delivery_status = 4;\n\n    this.listenService.setPedidoModificado(this.pedidoRepartidor);\n\n    // cuando termina el pedido el repartidor se guarda el tiempo en el pedido\n    this.crudService.postFree(_dataSend, 'repartidor', 'set-fin-pedido-entregado')\n      .subscribe(res => {\n        // console.log(res);\n\n        // console.log('repartidor-propio-notifica-fin-pedido');\n        this.socketService.emit('repartidor-propio-notifica-fin-pedido', this.pedidoRepartidor);\n        // this.cleanLocal();\n        // this.router.navigate(['./repartidor/pedidos']);\n      });\n  }\n\n  finalizarPedidoExpress(pedido: any, _listPedidos: any) {\n    const _tipo_pedido = pedido.isretiroatm ? 'express' : 'retiro_atm';\n    const _dataSend = {\n      idpedido_mandado: pedido.idpedido_mandado,\n      pedidos_quedan: _listPedidos,\n      num_quedan: _listPedidos.pedidos.length,\n      tipo_pedido: _tipo_pedido\n    };\n\n    this.crudService.postFree(_dataSend, 'repartidor', 'set-fin-pedido-express-entregado', true)\n    .subscribe(res => console.log(res));\n  }\n\n  listaPedidosEntregados() {\n    this._repartidor = this.infoTokenService.getInfoUs().usuario;\n    this.socketService.emit('repartidor-grupo-pedido-finalizado', this._repartidor.idrepartidor);\n    this.cleanLocal();\n  }\n\n  // // fin timer // busca otro repartidor\n  pedidoNoAceptadoReasingar() {\n    // estado = 1 es aceptado\n    if ( this.pedidoRepartidor.estado === 0 ) {\n      // console.log('termina tiempo reasigna pedido repartidor-declina-pedido', this.pedidoRepartidor);\n      const _num_reasignado = this.pedidoRepartidor.num_reasignado ? this.pedidoRepartidor.num_reasignado + 1 : 0;\n      this.pedidoRepartidor.num_reasignado = _num_reasignado === 0 ? 1 : _num_reasignado;\n      this.pedidoRepartidor.is_reasignado = true;\n      // this.socketService.emit('repartidor-declina-pedido', this.pedidoRepartidor);\n\n      // clear local pedido\n      // console.log('clean from pedidoNoAceptadoReasingar');\n      this.cleanLocal();\n    }\n  }\n\n\n  darFormatoLocalPedidoRepartidorModel(_pedido) {\n    // console.log('dar formato pedido');\n    let pedido: PedidoRepartidorModel = new PedidoRepartidorModel;\n\n\n    if ( !_pedido ) { return; }\n    if (  _pedido?.conFormato ) {\n      pedido = _pedido;\n    } else {\n\n      if ( !_pedido.datosItems ) {\n        pedido.idpedido = _pedido.idpedido;\n        const subTotalesPedid = _pedido.json_datos_delivery.p_header.arrDatosDelivery.subTotales.length > 0 ? _pedido.json_datos_delivery.p_header.arrDatosDelivery.subTotales : _pedido.json_datos_delivery.p_subtotales;\n        // pedido.datosItems = res[1].dataItems || res[1].datosItem;\n        pedido.datosDelivery = _pedido.json_datos_delivery; // res[1].dataDelivery || res[1].datosDelivery;\n        pedido.datosItems = _pedido.json_datos_delivery.p_body;\n        pedido.datosDelivery = _pedido.json_datos_delivery.p_header.arrDatosDelivery;\n        pedido.datosComercio = pedido.datosDelivery.establecimiento;\n        pedido.datosCliente = pedido.datosDelivery.direccionEnvioSelected;\n        pedido.datosSubtotales = subTotalesPedid;\n        pedido.datosSubtotalesShow = pedido.datosDelivery.subTotales.length === 0 ? subTotalesPedid : pedido.datosDelivery.subTotales.length;\n        pedido.conFormato = true;\n      } else {\n        pedido = _pedido;\n      }\n    }\n\n\n    // coordenadas del comercio si esta en string lo pasa a decimal\n    pedido.datosComercio.latitude = typeof pedido.datosComercio.latitude ===  'string' ? parseFloat(pedido.datosComercio.latitude) : pedido.datosComercio.latitude;\n    pedido.datosComercio.longitude = typeof pedido.datosComercio.longitude ===  'string' ? parseFloat(pedido.datosComercio.longitude) : pedido.datosComercio.longitude;\n\n    this.pedidoRepartidor = pedido;\n    // this.setLocal();\n  }\n\n  // asignacion por barcode o por idpedido\n  confirmarAsignacionReadBarCode(idpedidoLector: number) {    \n    return new Observable(observer => {\n      let orden: any;\n      let response = {};\n      const _reparitdor = this.infoTokenService.getInfoUs().usuario;\n      const _dataSendPedido = {\n        idpedido: idpedidoLector\n      };\n      // get pedido\n      this.crudService.postFree(_dataSendPedido, 'comercio', 'get-pedido-by-id', true)\n      .subscribe((res: any) => {\n\n        orden  = res.data[0];\n        // response = this.addPedidoInListPedidosPendientes(orden);\n        observer.next(orden);\n        // const _importePedido = parseFloat(orden.total_r);\n        // let pedidos_repartidor = this.getPedidoPorAceptar();\n\n        // orden.json_datos_delivery = JSON.parse(orden.json_datos_delivery);\n\n\n        // if ( pedidos_repartidor ) {\n        //   // buscar si el pedido ya fue agregado\n        //   const isHayPedido = pedidos_repartidor.pedidos.filter(x => x.toString() === idpedidoLector.toString())[0];\n        //   if ( isHayPedido ) {\n        //     response = {\n        //       elPedido: orden,\n        //       pedidos_repartidor: pedidos_repartidor\n        //     };\n        //     observer.next(response);\n        //     return;\n        //   }\n\n        //   pedidos_repartidor.pedidos.push(orden.idpedido);\n        //   pedidos_repartidor.importe_acumula = parseFloat( pedidos_repartidor.importe_acumula ) + _importePedido;\n        //   pedidos_repartidor.importe_pagar = parseFloat( pedidos_repartidor.importe_pagar ) + _importePedido;\n        //   pedidos_repartidor.pedido_asignado_manual = orden.idpedido; // para reset a los demas repartidores\n        //   pedidos_repartidor.idrepartidor = _reparitdor.idrepartidor;\n        //   pedidos_repartidor.inSede = true; // no necesita coordenadas de la sede porque se supone que esta en la sede\n        // } else {\n        //   const _listPedido = [];\n        //   _listPedido.push(orden.idpedido);\n\n        //   pedidos_repartidor = {\n        //     pedidos: _listPedido,\n        //     importe_acumula: _importePedido.toFixed(2),\n        //     importe_pagar: _importePedido.toFixed(2),\n        //     idsede: orden.idsede,\n        //     idrepartidor: _reparitdor.idrepartidor,\n        //     pedido_asignado_manual: orden.idpedido,\n        //     inSede: true\n        //   };\n        // }\n\n        // // guardar pedido escaneado\n        // this.setPedidoPorAceptar(pedidos_repartidor);\n\n        // const _dataSend = {\n        //   pedido : pedidos_repartidor\n        // };\n\n        // this.crudService.postFree(_dataSend, 'monitor', 'set-asignar-pedido-manual', true)\n        // .subscribe( resp => {\n        //   console.log(resp);\n        //   // orden.nom_repartidor = _reparitdor.nombre;\n        //   // orden.idrepartidor = _reparitdor.idrepartidor;\n        //   // orden.telefono_repartidor = _reparitdor.telefono_repartidor;\n        // });\n\n        // // return orden;\n        // response = {\n        //   elPedido: orden,\n        //   pedidos_repartidor: pedidos_repartidor\n        // };\n        // observer.next(response);\n\n      });\n\n    });\n\n  }\n\n  addPedidoInListPedidosPendientes(orden: any): any {\n    let response = {};\n    const _reparitdor = this.infoTokenService.getInfoUs().usuario;\n    const idpedidoLector = orden.idpedido;\n\n    const _importePedido = parseFloat(orden.total_r);\n    let pedidos_repartidor = this.getPedidoPorAceptar();\n\n    orden.json_datos_delivery = typeof orden.json_datos_delivery !== 'object' ? JSON.parse(orden.json_datos_delivery) : orden.json_datos_delivery;\n\n\n    if ( pedidos_repartidor ) {\n      // buscar si el pedido ya fue agregado\n      const isHayPedido = pedidos_repartidor.pedidos.filter(x => x.toString() === idpedidoLector.toString())[0];\n      if ( isHayPedido ) {\n        response = {\n          elPedido: orden,\n          pedidos_repartidor: pedidos_repartidor\n        };\n\n        return response;\n      }\n\n      pedidos_repartidor.pedidos.push(orden.idpedido);\n      pedidos_repartidor.importe_acumula = parseFloat( pedidos_repartidor.importe_acumula ) + _importePedido;\n      pedidos_repartidor.importe_pagar = parseFloat( pedidos_repartidor.importe_pagar ) + _importePedido;\n      pedidos_repartidor.pedido_asignado_manual = orden.idpedido; // para reset a los demas repartidores\n      pedidos_repartidor.idrepartidor = _reparitdor.idrepartidor;\n      pedidos_repartidor.inSede = true; // no necesita coordenadas de la sede porque se supone que esta en la sede\n    } else {\n      const _listPedido = [];\n      _listPedido.push(orden.idpedido);\n\n      pedidos_repartidor = {\n        pedidos: _listPedido,\n        importe_acumula: _importePedido.toFixed(2),\n        importe_pagar: _importePedido.toFixed(2),\n        idsede: orden.idsede,\n        idrepartidor: _reparitdor.idrepartidor,\n        pedido_asignado_manual: orden.idpedido,\n        inSede: true\n      };\n    }\n\n    // guardar pedido escaneado\n    this.setPedidoPorAceptar(pedidos_repartidor);\n\n    const _dataSend = {\n      pedido : pedidos_repartidor,\n      repartidor: this._repartidor\n    };\n\n    this.crudService.postFree(_dataSend, 'monitor', 'set-asignar-pedido-manual', true)\n    .subscribe( resp => {\n      console.log(resp);\n      // orden.nom_repartidor = _reparitdor.nombre;\n      // orden.idrepartidor = _reparitdor.idrepartidor;\n      // orden.telefono_repartidor = _reparitdor.telefono_repartidor;\n    });\n\n    // return orden;\n    response = {\n      elPedido: orden,\n      pedidos_repartidor: pedidos_repartidor\n    };\n\n    return response;\n    // observer.next(response);\n  }\n\n\n  // chequea si ya llego al comercio\n  checkLLegoComercio(listPedidos: [], geoPositionActual: GeoPositionModel) {\n    let geoPositionComercio: GeoPositionModel = new GeoPositionModel();\n    let _newTimeLinePedido = new TimeLinePedido()\n    listPedidos.map((p: any) => {      \n      const comercioPedido = p.json_datos_delivery.p_header.arrDatosDelivery.establecimiento;\n      _newTimeLinePedido = p.time_line || _newTimeLinePedido      \n\n      geoPositionComercio.latitude = typeof comercioPedido.latitude === 'string'  ? parseFloat(comercioPedido.latitude) : comercioPedido.latitude;\n      geoPositionComercio.longitude = typeof comercioPedido.longitude === 'string'  ? parseFloat(comercioPedido.longitude) : comercioPedido.longitude;\n      \n\n      if (!geoPositionComercio.latitude) {return; }\n      const _distanciaMt = this.calcDistanciaService.calcDistanciaEnMetros(geoPositionActual, geoPositionComercio);\n\n      // 100mtr a la redonda\n      // const isLLego = geoPositionComercio.latitude ? \n      //                 this.calcDistanciaService.calcDistancia(geoPositionComercio, geoPositionActual, 100)\n      //                 : false\n\n      const isLLego = this.calcDistanciaService.calcDistancia(geoPositionActual, geoPositionComercio, 100);\n\n      // p.llego_comercio = isLLego;\n      p.distanciaMtr = _distanciaMt;\n      // _newTimeLinePedido.llego_al_comercio = isLLego;\n      \n      \n      // _newTimeLinePedido.llego_al_comercio = !_newTimeLinePedido.llego_al_comercio ? isLLego : false;\n      \n      if (isLLego ) { // envia mensaje\n        // if (_newTimeLinePedido.paso === 0) {\n          // _newTimeLinePedido.mensaje_enviado.llego_al_comercio = true;\n        if (_newTimeLinePedido.llego_al_comercio !== true) {\n          _newTimeLinePedido.llego_al_comercio = true;\n          _newTimeLinePedido.paso = 1;\n          p.msj_log += `paso 1  ${new Date().toLocaleTimeString()}`\n          this.sendMsjService.msjClienteTimeLine(p, _newTimeLinePedido);          \n        }\n        // }\n      } else {\n        // si sale del comercio con el pedido camino al cliente\n        if (_newTimeLinePedido.paso === 1) {\n          // _newTimeLinePedido.mensaje_enviado.en_camino_al_cliente = true;\n          _newTimeLinePedido.en_camino_al_cliente = true;\n          _newTimeLinePedido.paso = 2\n          p.msj_log += `paso 2  ${new Date().toLocaleTimeString()}`          \n          this.sendMsjService.msjClienteTimeLine(p, _newTimeLinePedido);\n        }\n      }   \n      \n      p.time_line = _newTimeLinePedido;\n\n      \n    })\n  }\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { CrudHttpService } from './crud-http.service';\nimport { GeoPositionModel } from 'src/app/modelos/geoposition.model';\nimport { Observable } from 'rxjs/internal/Observable';\nimport { PedidoRepartidorModel } from 'src/app/modelos/pedido.repartidor.model';\nimport { SocketService } from './socket.service';\nimport { InfoTockenService } from './info-token.service';\nimport { ListenStatusService } from './listen-status.service';\nimport { Router } from '@angular/router';\nimport { SseService } from './sse.service';\nimport { PedidoRepartidorService } from './pedido-repartidor.service';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RepartidorService {\n  private idSedeRepartidor;\n  private idRepartidor;\n\n\n  constructor(\n    private crudService: CrudHttpService,\n    private socketService: SocketService,\n    private infoToken: InfoTockenService,\n    private listenService: ListenStatusService,\n    private router: Router,\n    private pedidoRepartidorService: PedidoRepartidorService,\n    private sseService: SseService\n  ) {\n\n    this.idSedeRepartidor = this.infoToken.getInfoUs().usuario.idsede_suscrito;\n    this.idRepartidor = this.infoToken.getInfoUs().usuario.idrepartidor;\n\n  }\n\n  // guarda efectivo inicial\n  guardarEfectivo(importe: number, _online = 1) {\n    const _data = {\n      idrepartidor: this.infoToken.getInfoUs().usuario.idrepartidor,\n      efectivo: importe,\n      online: _online\n    };\n\n    this.crudService.postFree(_data, 'repartidor', 'set-efectivo-mano', false)\n      .subscribe(res => {\n        console.log('ya esta', res);\n      });\n\n    // if (  _online === 1  ) {\n    //   this.crudService.getAll('repartidor', 'get-view-event-new-pedido', false, false, true)\n    //   .subscribe(res => {\n    //     console.log('get-view-event-new-pedido', res);\n    //   });\n    // }\n  }\n\n  // listenPedidosNuevos() {\n  //   const idRepartidor = this.infoToken.infoUsToken.usuario.idrepartidor;\n  //   this.sseService\n  //     .getServerSentEvent('repartidor', 'get-view-event-new-pedido', false, idRepartidor)\n  //     .subscribe(data => console.log(data));\n  // }\n\n  guardarPositionActual(_pos: GeoPositionModel) {\n    const _data = {\n      pos: _pos\n    };\n\n    this.crudService.postFree(_data, 'repartidor', 'set-position-now', true)\n      .subscribe(res => {\n      });\n\n  }\n\n  guardarPasoVa(_paso_va: number) {\n    const _data = {\n      paso_va: _paso_va\n    };\n\n    console.log('set-paso-pedido-va', _paso_va);\n    this.crudService.postFree(_data, 'repartidor', 'set-paso-pedido-va', true)\n      .subscribe(res => {\n        console.log('.');\n      });\n\n  }\n\n  guardarCamnioClave(_data: any) {\n    _data.idrepartidor = this.idRepartidor;\n    this.crudService.postFree(_data, 'repartidor', 'set-cambio-pass-repartidor', true);\n  }\n\n  // repartidor propio pedidos asignados\n  getMisPedidosPropiosAsignados() {\n    return new Observable(observer => {\n    this.crudService.getAll('repartidor', 'get-repartidor-propio-mis-pedidos', false, false, true)\n      .subscribe((res: any) => {\n        observer.next(res.data);\n      });\n    });\n  }\n\n  // emitir posicion actual (comercio / cliente)\n  emitPositionNow(_coordenadas, pedido: PedidoRepartidorModel = null, idsedeComercio = null) {\n    // emitir a comercio\n    const _idComercio = this.idSedeRepartidor ? this.idSedeRepartidor : this.pedidoRepartidorService.pedidoRepartidor ? this.pedidoRepartidorService.pedidoRepartidor.idsede : null;\n    const _pedido = pedido ? pedido : this.pedidoRepartidorService.pedidoRepartidor;\n\n    const _dataSend = {\n      coordenadas : {\n        latitude: _coordenadas.lat || _coordenadas.latitude,\n        longitude: _coordenadas.lng || _coordenadas.longitude,\n      },\n      idrepartidor: this.idRepartidor,\n      idcliente: _pedido?.datosCliente?.idcliente || null,\n      idsede: idsedeComercio ? idsedeComercio : _idComercio,\n      minuto: new Date().getMinutes() // para guadar position cada 2 minutos\n    };\n\n    console.log('repartidor-notifica-ubicacion', _dataSend);\n\n    const geoposiionNow = new GeoPositionModel;\n    geoposiionNow.latitude = _coordenadas.latitude;\n    geoposiionNow.longitude = _coordenadas.longitude;\n\n    this.listenService.setMyPosition(geoposiionNow);\n    this.socketService.emit('repartidor-notifica-ubicacion', _dataSend);\n\n\n  }\n\n  cerrarSession() {\n    this.guardarEfectivo(0, 0);\n    this.socketService.closeConnection();\n    localStorage.clear();\n    this.router.navigate(['../']);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { TimeLinePedido } from 'src/app/modelos/time.line.pedido';\nimport { InfoTockenService } from './info-token.service';\nimport { SocketService } from './socket.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SendMsjService {\n\n  elRepartidor\n  constructor(\n    private socketService: SocketService,\n    private infoToken: InfoTockenService,\n  ) { }\n\n  // mensaje al cliente y actualiza timelime_en\n  msjClienteTimeLine(p: any, time_line_pedido: TimeLinePedido) {\n    let listClienteNotificar = [];\n    this.elRepartidor = this.infoToken.getInfoUs().usuario\n\n    const rowDatos = p?.json_datos_delivery?.p_header?.arrDatosDelivery;\n      if ( rowDatos ) {\n        const rowCliente = {\n          nombre: rowDatos.nombre.split(' ')[0],\n          telefono: rowDatos.telefono,\n          establecimiento: rowDatos.establecimiento.nombre,\n          idpedido: p.idpedido,\n          repartidor_nom: this.elRepartidor.nombre.split(' ')[0],\n          repartidor_telefono: this.elRepartidor.telefono,\n          repartidor_id: this.elRepartidor.idrepartidor, // update timeline\n          time_line: time_line_pedido, // update timeline\n          tipo_msj: time_line_pedido.paso // paso mensaje\n        };\n\n        listClienteNotificar.push(rowCliente);\n      }\n    \n    if ( listClienteNotificar.length > 0 ) {\n      this.socketService.emit('repartidor-notifica-cliente-time-line', listClienteNotificar);\n    }\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport * as io from 'socket.io-client';\nimport { Observable } from 'rxjs/internal/Observable';\n\n\nimport { URL_SERVER_SOCKET } from '../config/config.const';\n// import { CartaModel } from 'src/app/modelos/carta.model';\n// import { SeccionModel } from 'src/app/modelos/seccion.model';\n// import { ItemModel } from 'src/app/modelos/item.model';\nimport { TipoConsumoModel } from 'src/app/modelos/tipoconsumo.model';\n\nimport { ItemTipoConsumoModel } from 'src/app/modelos/item.tipoconsumo.model';\nimport { InfoTockenService } from './info-token.service';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\n// import { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\n// import { MipedidoService } from './mipedido.service';\nimport { Router } from '@angular/router';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SocketService {\n  // private objLaCartaSocket: any;\n  private socket: SocketIOClient.Socket;\n  // private item: ItemModel;\n  private urlSocket = URL_SERVER_SOCKET;\n\n  isSocketOpen = false;\n  isSocketOpenReconect = false;\n\n  // listen is socket open\n  private isSocketOpenSource = new BehaviorSubject<boolean>(false);\n  public isSocketOpen$ = this.isSocketOpenSource.asObservable();\n\n  private msjConexSource = new BehaviorSubject<String>('Cargando datos ...');\n  public msjConex$ = this.msjConexSource.asObservable();\n\n  private resTipoConsumo: any = [];\n\n  private verificandoConexion = false;\n\n  constructor(\n    private infoTockenService: InfoTockenService,\n    private router: Router\n    ) {\n\n      this.infoTockenService.converToJSON();\n\n  }\n\n  connect(infoUser: any = null, opFrom: number = 1) {\n    if ( this.isSocketOpen ) {\n      this.infoTockenService.setSocketId(this.socket.id);\n      return; } // para cuando se desconecta y conecta desde el celular\n\n    // produccion\n    // this.socket = io('/', {\n    //   secure: true,\n    //   rejectUnauthorized: false,\n    //   forceNew: false\n    // });\n\n    const infToken = this.infoTockenService.infoUsToken || infoUser;\n\n    const dataSocket = {\n      // idorg: infToken.idorg,\n      // idsede: infToken.idsede,\n      idrepartidor: infToken.usuario.idrepartidor,\n      // idusuario: infToken.idusuario,\n      // idcliente: infToken.idcliente,\n      // iscliente: infToken.isCliente,\n      isFromApp: opFrom,\n      isRepartidor: true,\n      firts_socketid: infToken.socketId\n    };\n\n    // console.log('dataSocket', dataSocket);\n\n    // desarrollo\n    this.socket = io(this.urlSocket, {\n      secure: true,\n      rejectUnauthorized: false,\n      // forceNew: true,\n      query: dataSocket,\n      // transports: [\"polling\", \"websocket\"]\n      // forceNew: true\n    });\n\n    this.listenStatusSocket(); // escucha los estado del socket\n\n    // this.socket.on('finishLoadDataInitial', () => {\n    //   // setTimeout(() => {\n    //     // this.isSocketOpen = true;\n    //     // this.isSocketOpenSource.next(true);\n    //     this.statusConexSocket(true, '');\n    //     this.isSocketOpenReconect = true; // evita que cargen nuevamente las configuraciones basicas, solo carga carta\n    //   // }, 1000);\n    //   console.log('conected socket finishLoadDataInitial');\n    // });\n\n    // // this.socket.on('connect', (res: any) => {\n    // //   this.statusConexSocket(true, 'socket event connect');\n    // // });\n\n    // this.socket.on('connect_failed', (res: any) => {\n    //   console.log('itento fallido de conexion', res);\n    //   this.statusConexSocket(false, 'connect_failed');\n    // });\n\n    // this.socket.on('connect_error', (res: any) => {\n    //   console.log('error de conexion', res);\n    //   this.statusConexSocket(false, 'connect_error');\n    // });\n\n    // this.socket.on('disconnect', (res: any) => {\n    //   console.log('disconnect');\n    //   this.statusConexSocket(false, 'disconnect');\n    // });\n\n    // this.onListenSocketDisconnet();\n  }\n\n  onGetCarta() {\n    // if ( this.isSocketOpen ) { return new Observable(observer => {observer.next(null); }); }\n    return new Observable(observer => {\n        this.socket.on('getLaCarta', (res: any) => {\n        // this.objLaCartaSocket = {\n        //   'carta': <CartaModel[]>res[0].carta,\n        //   'bodega': <SeccionModel[]>res[0].bodega\n        // };\n        observer.next(res);\n      });\n    });\n  }\n\n  // onGetCarta() {\n  //   return this.listen('getLaCarta');\n  // }\n\n  onGetTipoConsumo() {\n    // if ( this.isSocketOpen ) { return new Observable(observer => {observer.next(null); }); }\n    return new Observable(observer => {\n      this.socket.on('getTipoConsumo', (res: TipoConsumoModel) => {\n        // this.resTipoConsumo = res;\n        observer.next(res);\n      });\n    });\n  }\n\n  // onGetTipoConsumo() {\n  //   return this.listen('getTipoConsumo');\n  // }\n\n  // verificar para eliminar\n  getDataTipoConsumo(): ItemTipoConsumoModel[] {\n    const resTPC: ItemTipoConsumoModel[] = [];\n    this.resTipoConsumo .map((t: TipoConsumoModel) => {\n      const _objTpcAdd = new ItemTipoConsumoModel();\n      _objTpcAdd.descripcion = t.descripcion;\n      _objTpcAdd.idtipo_consumo = t.idtipo_consumo;\n      _objTpcAdd.titulo = t.titulo;\n\n      resTPC.push(_objTpcAdd);\n    });\n\n    return resTPC;\n  }\n\n  onItemModificado() {\n    return new Observable(observer => {\n      this.socket.on('itemModificado-pwa', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // onItemModificado() {\n  //   return this.listen('observer');\n  // }\n\n  onNuevoItemAddInCarta() {\n    return new Observable(observer => {\n      this.socket.on('nuevoItemAddInCarta', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // onNuevoItemAddInCarta() {\n  //   return this.listen('nuevoItemAddInCarta');\n  // }\n\n  // cuando se recupera el stock de pedido que caduco el tiempo\n  onItemResetCant() {\n    return new Observable(observer => {\n      this.socket.on('itemResetCant-pwa', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // onItemResetCant() {\n  //   return this.listen('itemResetCant');\n  // }\n\n  // load reglas de la carta y subtotales\n  onReglasCarta() {\n    return new Observable(observer => {\n      this.socket.on('getReglasCarta', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // onReglasCarta() {\n  //   return this.listen('getReglasCarta');\n  // }\n\n  // datos de la sede, impresoras\n  // load reglas de la carta y subtotales\n  onGetDatosSede() {\n    return new Observable(observer => {\n      this.socket.on('getDataSede', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // respuesta de hacer un nuevo pedido\n  onGetNuevoPedido() {\n    return new Observable(observer => {\n      this.socket.on('nuevoPedido', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // cuando el cliente paga el pedido\n  onPedidoPagado() {\n    return new Observable(observer => {\n      this.socket.on('pedido-pagado-cliente', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n\n  onDeliveryPedidoChangeStatus() {\n    return new Observable(observer => {\n      this.socket.on('delivery-pedido-estado', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // se lanza despues de que el cliente califica al repartidor\n  onDeliveryPedidoFin() {\n    return new Observable(observer => {\n      this.socket.on('repartidor-notifica-fin-pedido', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // onGetDatosSede() {\n  //   return this.listen('getDataSede');\n  // }\n\n  // onListenSocketDisconnet() {\n  //   return new Observable(observer => {\n  //     this.socket.on('disconnect', (res: any) => {\n  //       this.isSocketOpen = false;\n  //       this.isSocketOpenSource.next(false);\n  //     });\n  //   });\n  // }\n\n  onRepartidorNuevoPedido() {\n    return new Observable(observer => {\n        this.socket.on('repartidor-nuevo-pedido', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // repartidor pripio\n  onRepartidorPropioNuevoPedidoAsignado() {\n    return new Observable(observer => {\n        this.socket.on('repartidor-propio-nuevo-pedido-asignado', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n\n\n  //// cuando se termina el tiempo de aceptar el servidor quita pedido\n  onRepartidorServerQuitaPedido() {\n    return new Observable(observer => {\n      this.socket.on('repartidor-notifica-server-quita-pedido', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n\n  //// esto se ejecuta cuando se conecta\n  onRepartidorGetPedidoPendienteAceptar() {\n    return new Observable(observer => {\n      this.socket.on('repartidor-get-pedido-pendiente-aceptar', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n\n  // nuevo pedido asignado desde el comercio\n  onPedidoAsignadoFromComercio() {\n    return new Observable(observer => {\n      this.socket.on('set-repartidor-pedido-asigna-comercio', (res: any) => {        \n        observer.next(res);\n      });\n    });\n  }\n\n  emit(evento: string, data: any) {\n    // verificar estado del socket\n\n    this.socket.emit(evento, data);\n  }\n\n  private listen( evento: string ) {\n    return new Observable(observer => {\n      this.socket.on( evento , (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  closeConnection(): void {\n    try {\n      this.socket.disconnect();\n    } catch (error) {}\n    // this.isSocketOpen = false;\n    // this.isSocketOpenSource.next(false);\n    this.statusConexSocket(false, 'disconnect');\n  }\n\n  private listenStatusSocket(): void {\n\n    this.socket.on('finishLoadDataInitial', () => {\n      this.statusConexSocket(true, '');\n      this.isSocketOpenReconect = true; // evita que cargen nuevamente las configuraciones basicas, solo carga carta\n      console.log('conected socket finishLoadDataInitial');\n    });\n\n    // estados del navigator\n\n    window.addEventListener('focus', (event) => {\n      this.verifyConexionSocket();\n    });\n\n    window.addEventListener('online', () => {\n      this.showStatusConexNavigator(true, 'navigator_online');\n    });\n    window.addEventListener('offline', () => {\n      this.showStatusConexNavigator(false, 'navigator_offline');\n    });\n\n\n    // estado del socket\n    this.socket.on('connect', () => {\n      console.log('socket connect');\n      this.statusConexSocket(true, 'connect');\n\n      this.infoTockenService.setSocketId(this.socket.id);\n\n      // verifica el tiempo de session\n      if (!this.infoTockenService.verificarContunuarSession()) {\n        this.closeConnection();\n        this.cerrarSessionBeforeTimeSession();\n        return;\n      }\n    });\n\n    this.socket.on('connect_failed', (res: any) => {\n      console.log('itento fallido de conexion', res);\n      this.statusConexSocket(false, 'connect_failed');\n    });\n\n    this.socket.on('connect_error', (res: any) => {\n      console.log('error de conexion', res);\n      this.statusConexSocket(false, 'connect_error');\n    });\n\n    this.socket.on('disconnect', (res: any) => {\n      console.log('disconnect');\n      this.statusConexSocket(false, 'disconnect');\n    });\n\n    // escucha la verificacion de conexion\n    this.socket.on('verificar-conexion', (res: any) => {\n\n      // verifica el tiempo de session\n      if (!this.infoTockenService.verificarContunuarSession()) {\n        this.closeConnection();\n        this.cerrarSessionBeforeTimeSession();\n        return;\n      }\n\n      if ( res === true ) { console.log('VERIFY CONECTION => OK'); this.verificandoConexion = false; return; }\n\n      // no hay conexion -- en pruebas ver comportamiento\n      console.log('VERIFY CONECTION => FALSE');\n      this.closeConnection();\n      this.statusConexSocket(false, 'disconnect');\n      this.connect();\n      this.verificandoConexion = false;\n    });\n\n  }\n\n  private statusConexSocket(isConncet: boolean, evento: string) {\n    this.isSocketOpen = isConncet;\n    this.isSocketOpenSource.next(isConncet);\n\n    let msj = 'Conectando datos ...';\n    switch (evento) {\n      case 'conected': // conectando\n        msj = 'Conectando datos ...';\n        break;\n      case 'connect_failed': // conectando\n        msj = 'Conectando datos ..';\n        break;\n      case 'connect_error': // conectando\n        msj = 'Conectando datos .';\n        break;\n      case 'disconnect': // conectando\n        msj = 'Restableciendo conexion ...';\n        break;\n      case 'navigator_offline': // conectando\n        msj = 'Conexion cerrada -b ...';\n        break;\n      case 'navigator_online': // conectando\n        msj = 'Conectando datos -b ...';\n        break;\n    }\n\n    this.msjConexSource.next(msj);\n  }\n\n  private showStatusConexNavigator(online: boolean, evento: string): void {\n\n    this.statusConexSocket(online, evento);\n    // this.isSocketOpen = online;\n    // this.isSocketOpenSource.next(online);\n\n    if (online) {\n      console.log('navegador conectado');\n    } else {\n      console.log('!!! navegador desconectado !!');\n      // this.verificandoConexion = false;\n    }\n  }\n\n  // verifica el estado del socket, si esta cerrado intenta abrirlo\n  verifyConexionSocket(): void {\n    if ( this.verificandoConexion ) {return; }\n    this.verificandoConexion = true;\n    this.emit('verificar-conexion', this.socket.id);\n  }\n\n  // cierra session despues de que se comprueba que el tiempo de incio se de session supero lo establecido\n  private cerrarSessionBeforeTimeSession(reload: boolean = false) {\n    this.router.navigate(['../']);\n  }\n}\n","import { Injectable, NgZone } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { URL_SERVER } from '../config/config.const';\nimport { CrudHttpService } from './crud-http.service';\nimport { TransitiveCompileNgModuleMetadata } from '@angular/compiler';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SseService {\n  private  urlService = URL_SERVER;\n  constructor(private _zone: NgZone, private curdService: CrudHttpService) {}\n  getServerSentEvent(controller: string, evento: string, conToken: boolean = false, id = 0): Observable<any> {\n    return Observable.create(observer => {\n      console.log('servicio sse');\n      const eventSource = this.getEventSource(controller, evento, conToken, id);\n      eventSource.onmessage = (event: any) => {\n        this._zone.run(() => {\n          observer.next(event.data);\n        });\n      };\n      eventSource.onerror = error => {\n        this._zone.run(() => {\n          observer.error(error);\n        });\n      };\n    });\n  }\n  private getEventSource(controller: string, evento: string, conToken: boolean = true, id = 0): EventSource {\n    const url = `${this.urlService}/${controller}/${evento}?id=${id}`;\n    console.log('url', url);\n    // const header = conToken ? this.curdService.getHeaderHttpClientForm() : this.curdService.getHeaderHttpClientFormNoToken();\n    return new EventSource(url);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\nimport { InfoTockenService } from './info-token.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TimerLimitService {\n\n  private countdownTimerRef = null;\n  private init = 0;\n  public maxTime = 60; // 1min defult\n  private valPorcentaje = 0;\n  isPlayTimer = false;\n  private countTimer = 0; // cuenta el tiempo en segundo\n  // private dateNow = new Date();\n\n\n  private countdownSource = new BehaviorSubject<number>(0);\n  public countdown$ = this.countdownSource.asObservable();\n\n  private countTimeSource = new BehaviorSubject<number>(0);\n  public countTime$ = this.countTimeSource.asObservable();\n\n  private isTimeLimitSource = new BehaviorSubject<boolean>(false);\n  public isTimeLimitComplet$ = this.isTimeLimitSource.asObservable();\n\n  private isPorgressVisibleSource = new BehaviorSubject<boolean>(false);\n  public isPorgressVisible$ = this.isPorgressVisibleSource.asObservable();\n\n  constructor(\n    // private infoToken: InfoTockenService,\n  ) {\n   }\n\n  destroy(): void {\n    this.clearTimeout();\n  }\n\n  playCountTimerLimit(): void {\n    // if ( this.infoToken.isDelivery() ) { return; } // cuando es delivery no cuenta tiempo\n    if (this.isPlayTimer) {return; }\n    this.isPlayTimer = true;\n    this.initCount();\n  }\n\n  resetCountTimerLimit(): void {\n    // if ( this.infoToken.isDelivery() ) { return; } // cuando es delivery no cuenta tiempo\n    if (localStorage.getItem('sys::tcount') ) {\n      this.isPlayTimer = true;\n      this.initCount();\n    } else {\n      this.stopCountTimerLimit();\n    }\n  }\n\n  private initCount(): void {\n    // if ( this.infoToken.isDelivery() ) { return; } // cuando es delivery no cuenta tiempo\n    this.valPorcentaje = 0;\n    this.init = localStorage.getItem('sys::tcount') ? parseInt(localStorage.getItem('sys::tcount'), 0) : 0;\n    this.isTimeLimitSource.next(false);\n    this.isPorgressVisibleSource.next(true);\n\n    // restar 60 - 1\n    this.countTimer = this.maxTime - this.setTimeDate();\n\n    this.progressCount();\n  }\n\n  private progressCount(): void {\n    let lastValPorcentaje = 0;\n    if ( !this.isPlayTimer ) {return; }\n    this.countdownTimerRef = setTimeout(() => {\n      this.init = this.setTimeDate();\n      this.countTimer--;\n      this.valPorcentaje = Math.round((this.init / this.maxTime) * 100);\n      // guardamos en el\n      localStorage.setItem('sys::tcount', this.init.toString());\n\n      if ( this.init > this.maxTime ) {\n        this.init = this.maxTime;\n        this.valPorcentaje = 100;\n        this.countdownSource.next(this.valPorcentaje);\n        this.isTimeLimitSource.next(true);\n        this.stopCountTimerLimit();\n      } else {\n        // console.log('timer limit', this.valPorcentaje);\n        // para que no salga la alerta de incio solo una vez\n        if ( lastValPorcentaje !==  this.valPorcentaje) {\n          this.countdownSource.next(this.valPorcentaje);\n        }\n        this.progressCount();\n      }\n\n      this.countTimeSource.next(this.countTimer);\n\n      lastValPorcentaje = this.valPorcentaje;\n\n    }, 1000);\n  }\n\n  private setTimeDate(): number {\n    const ms_new = new Date().getTime();\n    const timeAfter = localStorage.getItem('sys::tnum') ? parseInt(localStorage.getItem('sys::tnum'), 0) : ms_new;\n    const ms = ms_new - timeAfter;\n    const sec = Math.floor((ms / 1000));\n\n    localStorage.setItem('sys::tnum', timeAfter.toString());\n    return sec;\n\n  }\n\n  stopCountTimerLimit(): void {\n    this.isPlayTimer = false;\n    this.init = 0;\n    this.valPorcentaje = 0;\n    this.countTimer = 0;\n    localStorage.removeItem('sys::tcount');\n    localStorage.removeItem('sys::tnum');\n    this.clearTimeout();\n    this.isPorgressVisibleSource.next(false);\n    this.isTimeLimitSource.next(false);\n  }\n\n  private clearTimeout(): void {\n    if (this.countdownTimerRef) {\n      clearTimeout(this.countdownTimerRef);\n      this.countdownTimerRef = null;\n    }\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: true\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","/* (ignored) */"]}